(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o={app:0},s=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0334cac6":"fac0ae6d","chunk-1accff03":"480e4250","chunk-1e3b9d23":"996804dd","chunk-2acb7bb7":"445c5e17","chunk-2d0c09d7":"b006a1de","chunk-2d0e9b8f":"7f35b793","chunk-2d238672":"5d7f0ce8","chunk-43ef5b1b":"cf9c9ba5","chunk-7ff252d0":"5ada63c2","chunk-ba76a050":"473a31a7"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0334cac6":1,"chunk-1accff03":1,"chunk-1e3b9d23":1,"chunk-2acb7bb7":1,"chunk-7ff252d0":1,"chunk-ba76a050":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-0334cac6":"cda9ca3c","chunk-1accff03":"6eebf3fc","chunk-1e3b9d23":"fb68757f","chunk-2acb7bb7":"353ecb19","chunk-2d0c09d7":"31d6cfe0","chunk-2d0e9b8f":"31d6cfe0","chunk-2d238672":"31d6cfe0","chunk-43ef5b1b":"31d6cfe0","chunk-7ff252d0":"175223db","chunk-ba76a050":"7974a87e"}[t]+".css",o=c.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===a||u===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete i[t],f.parentNode.removeChild(f),n(s)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){i[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0072":function(t,e,n){"use strict";n("e687")},"00cf":function(t,e,n){"use strict";n("d7a5")},"0159":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-statis-card"},t._l(t.data,(function(n){return e("div",{directives:[{name:"show",rawName:"v-show",value:void 0==n.disable,expression:"item.disable==undefined"}],key:n.name,staticClass:"item"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:n.icon,alt:""}})]),e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[t._v(t._s(n.name))]),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(n.value,n.unit1,n.unit2))}})])])})),0)},i=[],o={name:"data-statis-card",props:{data:Array}},s=o,r=(n("f429"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"64c6f691",null);e["default"]=c.exports},"04de":function(t,e,n){"use strict";n("60cc")},"07a0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.fish?t._e():e("div",{staticClass:"button left",class:0==t.$store.state.showLeft1?"active":"",on:{click:t.switchLeft}})},i=[],o={name:"switch-button-left",methods:{switchLeft:function(){this.$store.state.showLeft1=!this.$store.state.showLeft1,this.$store.state.showLeft2=!this.$store.state.showLeft1},switchRight:function(){this.$store.state.showRight1=!this.$store.state.showRight1,this.$store.state.showRight2=!this.$store.state.showRight1}}},s=o,r=(n("578c"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"66e6b9ee",null);e["default"]=c.exports},"08c7":function(t,e,n){},"0976":function(t,e,n){"use strict";n("a7c4")},"0a64":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-rank"},t._l(t.getData,(function(n,a){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"address",class:a<=2?"green":""},[t._v(" "+t._s(n.name)+" ")])]),e("div",{staticClass:"value",class:a<=2?"green":""},[t._v(" "+t._s(t._f("thousand")(n.value))+" ")])]),e("div",{staticClass:"progress-main"},[e("div",{staticClass:"progress-over",style:"width:".concat(n.per,"%")})])])})),0)},i=[],o={filters:{},computed:{getData:function(){if(0==this.data.length)return[];if(!(this.data[0].value<=0)){var t=this.data[0].value;return this.data.map((function(e){e.per=e.value/t*100})),this.data}}},name:"specular-rank",props:{data:Array}},s=o,r=(n("5625"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"78ebc954",null);e["default"]=c.exports},"0ab7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"move-bar-chart",on:{mouseenter:function(e){t.isHover=!0},mouseleave:function(e){t.isHover=!1}}},[e("chart-base",{ref:"canvas",attrs:{options:t.options}})],1)},i=[],o=(n("14d9"),n("313e"),{name:"specular-line",props:{source:Array,yAxisName:{type:String,default:"件"},max1:Number,max2:Number,maxShow:{type:Number,default:4},time:{type:Number,default:2e3},colors:{type:Array,default:function(){return[]}}},watch:{source:function(){this.loadData()}},data:function(){return{isHover:!1,startIndex:0,options:{}}},methods:{loadData:function(){var t=this;if(clearInterval(this.intv),this.source[0]){var e=Object.keys(this.source[0]).filter((function(t){return"name"!=t})),n=[];e.map((function(t,e){0==e?n.push({type:"line",name:t,smooth:!0,data:[],symbolSize:0,areaStyle:{opacity:.2}}):n.push({type:"line",name:t,smooth:!0,data:[],symbolSize:0,lineStyle:{type:"dashed"}})})),this.options={color:this.colors,grid:{top:35,left:0,right:0,bottom:0,containLabel:!0},legend:{icon:"rectangle",right:0,top:0,itemWidth:16,itemHeight:4,itemGap:24,textStyle:{color:"rgba(255,255,255,0.7)",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#00FFE0",width:2}},backgroundColor:"rgb(5,41,75)",borderColor:"#00FFE0",textStyle:{fontSize:14,color:"#00FFE0"}},xAxis:{axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}},boundaryGap:[0,100]},yAxis:{max:this.max,nameTextStyle:{fontSize:14,color:"rgba(255,255,255,0.6)",align:"right"},axisTick:{show:!0,lineStyle:{color:"rgb(33,215,181)"}},axisLabel:{margin:18,textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(255,255,255,0.2)"}},name:this.yAxisName,type:"value"},series:n},this.options.xAxis.data=this.source.map((function(t){return t.name})),e.map((function(e,n){t.options.series[n].data=t.source.map((function(t){return t[e]}))}))}}},mounted:function(){this.loadData()},destroyed:function(){clearInterval(this.intv)}}),s=o,r=(n("4c64"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"4d116b93",null);e["default"]=c.exports},"0d08":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.safeInfo?e("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],ref:"point-popup-safe",staticClass:"point-popup-safe"},[e("pointPopupTrafficTitle",{attrs:{areaInfo:t.safeInfo}}),e("div",{staticClass:"content"},t._l(t.safeInfo.data,(function(n,a){return e("div",{class:n.className},[e("div",{staticClass:"top"},[e("pointPopupInfoContent",{attrs:{info:n}})],1),e("div",{staticClass:"title"},[t._v(t._s(n.realTimeTile))]),e("div",{staticClass:"info"},[e("div",{staticClass:"left"},t._l(n.realTimeArr,(function(n,a){return e("div",{class:n.className},[e("div",{staticClass:"key"},[t._v(t._s(n.key)+" :")]),e("div",{staticClass:"value"},[t._v(" "+t._s(n[n.className])+" ")])])})),0),e("div",{staticClass:"right"},[e("img",{attrs:{src:n.img}})])])])})),0)],1):t._e()},i=[],o=n("ade3"),s=n("491d"),r=n("c76e"),c=n("eea2"),l={components:{pointPopupTrafficTitle:r["a"],pointPopupInfoContent:c["a"]},name:"pointPopupSafe",props:{id:{type:String,requre:!1}},watch:{id:function(){this.loadData()}},data:function(){return{safeInfo:null,isShow:!1}},mounted:function(){var t=this;"point-popup-safe"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(s["b"])("show-safe-info",(function(e){t.isShow=e}))},methods:{loadData:function(){var t,e,a,i,s,r,c,l;this.safeInfo={areaName:this.id,data:[{name:" person",icon:n("bd8c"),realTimeTile:"实时出入人员",arrInfo:[(t={key:"入园人数",value:"num"},Object(o["a"])(t,"value",135),Object(o["a"])(t,"unit","人"),t),(e={key:"员工",value:"staff"},Object(o["a"])(e,"value",951),Object(o["a"])(e,"unit","人"),e),(a={key:"相关方",value:"interestedParty"},Object(o["a"])(a,"value",25),Object(o["a"])(a,"unit","人"),a),(i={key:"访客",value:"visitor"},Object(o["a"])(i,"value",5),Object(o["a"])(i,"unit","人"),i)],realTimeArr:[{className:"name",name:"张爱华",key:"姓名"},{className:"type",type:"相关方",key:"类型"},{className:"time",time:"2023-07-18 09:14:56",key:"时间"},{className:"machine",machine:"东南门5号入口闸机M092",key:"设备"}],img:"https://imgessl.kugou.com/mvhdpic/400/20230725/20230725112015213050.jpg"},{name:"car",icon:n("5ef2"),realTimeTile:"实时出入车辆",arrInfo:[(s={key:"入园人数",value:"num"},Object(o["a"])(s,"value",525),Object(o["a"])(s,"unit","个"),s),(r={key:"员工",value:"staff"},Object(o["a"])(r,"value",951),Object(o["a"])(r,"unit","个"),r),(c={key:"预约",value:"reservation"},Object(o["a"])(c,"value",10),Object(o["a"])(c,"unit","个"),c),(l={key:"临时",value:"temporary"},Object(o["a"])(l,"value",1),Object(o["a"])(l,"unit","个"),l)],realTimeArr:[{className:"licensePlate",licensePlate:"苏B06TF2",key:"车牌"},{className:"type",type:"相关方",key:"类型"},{className:"time",time:"2023-07-18 09:14:56",key:"时间"},{className:"machine",machine:"东南门5号入口闸机M092",key:"设备"}],img:"https://imgessl.kugou.com/mvhdpic/400/20230725/20230725112015213050.jpg"}]}}}},u=l,d=(n("f0e2"),n("2877")),f=Object(d["a"])(u,a,i,!1,null,"706d156e",null);e["default"]=f.exports},"112f":function(t,e,n){"use strict";n("495b")},"12f3":function(t,e,n){"use strict";n("ad0d")},1625:function(t,e,n){},1808:function(t,e,n){},"1c3c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.safeInfo?e("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],ref:"point-popup-safe-other",staticClass:"point-popup-safe-other"},[e("div",{staticClass:"important"},[e("div",{staticClass:"icon"}),e("div",{staticClass:"text"},[t._v("室内重点区域")]),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(t.safeInfo.important,"路"))}})]),e("div",{staticClass:"line1"}),e("div",{staticClass:"normal"},[e("div",{staticClass:"icon"}),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(t.safeInfo.normal,"路"))}})]),e("div",{staticClass:"err"},[e("div",{staticClass:"icon"}),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(t.safeInfo.err,"路"))}})]),e("div",{staticClass:"line2"}),e("div",{staticClass:"text",on:{pointerdown:function(e){return t.openDialog(t.id)}}},[t._v("详情")])]):t._e()},i=[],o=n("491d"),s={components:{},name:"pointPopupSafeOther",props:{id:{type:String,require:!1}},data:function(){return{safeInfo:null,isShow:!1}},watch:{id:function(){this.loadData()}},mounted:function(){var t=this;"point-popup-safe-other"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-safe-other-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.safeInfo={normal:998,err:333,important:132}},openDialog:function(){Object(o["c"])("displaySafeDialog",this.id),this.$emit("buildDetails",this.id),Object(o["c"])("displaySafeDialogUe",this.id),this.id=""}}},r=s,c=(n("802c"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,"0eecfe30",null);e["default"]=l.exports},"1c44":function(t,e,n){"use strict";n("673e")},"1dbc":function(t,e,n){},"1ec1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-pie"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"pie-bg"}),e("div",{staticClass:"chart-main"},[e("chart-base",{attrs:{options:t.option}})],1),e("div",{staticClass:"chart-div"},[e("div",{staticClass:"value"},[t._v(t._s(t.getAll))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])])]),e("div",{staticClass:"main"},t._l(t.data,(function(n,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"item-color",style:"background:".concat(t.color[a])}),e("div",{staticClass:"item-title"},[t._v(t._s(n.name))]),e("div",{staticClass:"item-text"},[t._v(t._s(n.value))]),e("div",{staticClass:"item-per"},[t._v(t._s(n.per)),e("span",{staticClass:"unit"},[t._v("%")])])])})),0)])},i=[],o=(n("14d9"),{name:"custom-pie",props:{data:Array,title:String,color:Array},computed:{getAll:function(){var t=0;return this.data.map((function(e){t+=e.value})),t}},data:function(){return{option:{}}},watch:{data:function(){this.loadOption()}},methods:{loadOption:function(){var t=this.getAll,e=.03*t,n=[];this.color.map((function(t){n.push(t),n.push("rgba(0,0,0,0)")}));var a=[];this.data.map((function(n){n.per=0==t?0:(n.value/t*100).toFixed(2),0!=n.value&&(a.push({name:n.name,value:n.value}),a.push({name:"",value:e}))})),this.option={series:{name:"",radius:[80,70],type:"pie",data:a,itemStyle:{borderRadius:5},emphasis:{disabled:!1,scale:!0},label:{show:!1}},color:n}}},created:function(){this.loadOption()}}),s=o,r=(n("8e9b"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"28b2e4e0",null);e["default"]=c.exports},"20c7":function(t,e,n){"use strict";n("4183")},2193:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"move-bar-chart",on:{mouseenter:function(e){t.isHover=!0},mouseleave:function(e){t.isHover=!1}}},[e("chart-base",{ref:"canvas",attrs:{options:t.options}})],1)},i=[],o=(n("14d9"),n("313e")),s={name:"move-bar",props:{source:Array,yAxisName:{type:String,default:"件"},maxShow:{type:Number,default:4},time:{type:Number,default:2e3},colors:{type:Array,default:function(){return[["rgba(1, 49, 196, 0)","rgba(0, 255, 224, 1)"],["rgba(255, 184, 76, 0)","rgba(255, 184, 76, 1)"],["rgba(255, 67, 67, 0)","rgba(255, 67, 67, 1)"]]}}},watch:{source:function(){this.loadData()}},data:function(){return{isHover:!1,startIndex:0,options:{}}},methods:{loadData:function(){var t=this;if(clearInterval(this.intv),this.source[0]){var e=Object.keys(this.source[0]).filter((function(t){return"name"!=t})),n=[];if(e.map((function(t){n.push({type:"bar",name:t,barWidth:6,data:[],barGap:"100%",itemStyle:{normal:{barBorderRadius:[6,6,0,0]}}})})),this.options={grid:{top:35,left:0,right:0,bottom:0,containLabel:!0},legend:{right:0,top:0,itemWidth:10,itemHeight:10,itemGap:24,textStyle:{color:"rgba(255,255,255,0.7)",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgb(5,41,75)",borderColor:"#00FFE0",textStyle:{fontSize:14,color:"#00FFE0"}},xAxis:{axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}}},yAxis:{nameTextStyle:{fontSize:14,color:"rgba(255,255,255,0.6)",align:"right"},axisTick:{show:!0,lineStyle:{color:"rgb(33,215,181)"}},axisLabel:{margin:18,textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(255,255,255,0.2)"}},name:this.yAxisName,type:"value"},color:this.colors.map((function(t){return new o["graphic"].LinearGradient(0,1,0,0,[{offset:0,color:t[0]},{offset:1,color:t[1]}])})),series:n},this.source.length<=this.maxShow)return this.options.xAxis.data=this.source.map((function(t){return t.name})),void e.map((function(e,n){t.options.series[n].data=t.source.map((function(t){return t[e]}))}));this.startIndex=0;var a=function(){if(!t.isHover){for(var n=[],a=t.startIndex;a<t.startIndex+t.maxShow;a++)n.push(t.source[a%t.source.length]);t.options.xAxis.data=n.map((function(t){return t.name})),e.map((function(e,a){t.options.series[a].data=n.map((function(t){return t[e]}))})),t.startIndex++}};a(),this.intv=setInterval((function(){a()}),this.time)}}},mounted:function(){this.loadData()},destroyed:function(){clearInterval(this.intv)}},r=s,c=(n("97bc"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,"824cac40",null);e["default"]=l.exports},2418:function(t,e,n){"use strict";n("86a7")},"245a":function(t,e,n){var a=n("24a1");Object({NODE_ENV:"production",VUE_APP_BASE_ASSETS:"./",VUE_APP_BASE_ENERGY_URL:"https://smartpark-yx.zhlxsemicon.com/api",VUE_APP_BASE_HAIKANG_URL:"ws://10.196.83.93:8080",VUE_APP_BASE_IS_UE:"false",VUE_APP_BASE_URL:"http://bdp-ui.dip-ims.10.196.51.64.nip.io/service-center/service/center/call/",VUE_APP_MONITOR_URL:"",BASE_URL:""}).VUE_APP_BASE_IS_MOCK&&a.keys().forEach((function(t){a(t)}))},"24a1":function(t,e,n){var a={"./index.js":"245a","./test.js":"bf55"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="24a1"},2913:function(t,e,n){},"297f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-monitor"},[e("video",{ref:"haikang-monitor",attrs:{src:"",autoplay:"",muted:"",controls:""},domProps:{muted:!0}})])},i=[],o=n("c7eb"),s=n("1da1"),r=(n("bc3a"),{name:"custom-monitor",props:{url:String},methods:{initFlv:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n="".concat("ws://10.196.83.93:8080","/rtsp/id123?url=")+t.url,a=flvjs.createPlayer({type:"flv",isLive:!0,url:n}),a.attachMediaElement(t.$refs["haikang-monitor"]),a.load(),a.play(),t.flvPlayer=a,t.$refs["haikang-monitor"].play();case 7:case"end":return e.stop()}}),e)})))()},destroyFlv:function(){this.flvPlayer&&(this.flvPlayer.pause(),this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy(),this.flvPlayer=null)}},mounted:function(){this.initFlv()},destroyed:function(){this.destroyFlv()}}),c=r,l=(n("8b17"),n("2877")),u=Object(l["a"])(c,a,i,!1,null,"e350f1aa",null);e["default"]=u.exports},"2af1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.factoryInfo?e("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],staticClass:"point-popup-factory"},[e("div",{staticClass:"title"},[e("pointPopupTrafficTitle",{attrs:{areaInfo:t.factoryInfo}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("pointPopupInfoContent",{attrs:{info:t.factoryInfo}})],1)])]):t._e()},i=[],o=n("491d"),s=n("c76e"),r=n("eea2"),c={components:{pointPopupTrafficTitle:s["a"],pointPopupInfoContent:r["a"]},name:"pointPopupFactory",props:{id:{type:String,require:!1}},watch:{id:function(){this.loadData()}},data:function(){return{factoryInfo:null,isShow:!1}},mounted:function(){var t=this;"point-popup-factory"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-travel-build-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.factoryInfo={areaName:this.id,icon:n("5ef2"),arrInfo:[{key:"同行人数",name:"person",value:365,unit:"辆"},{key:"员工",name:"staff",value:10,unit:"辆"},{key:"相关方",name:"InterestedParty",value:4,unit:"辆"},{key:"访客",name:"visitor",value:4,unit:"辆"}]}}}},l=c,u=(n("9fe2"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"7a40bc3b",null);e["default"]=d.exports},"2b172":function(t,e,n){"use strict";n("42e4")},"2b5d":function(t,e,n){},"2dac":function(t,e,n){},"307c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.aIInfo?e("div",{staticClass:"point-popup-AI"},[e("pointPopupCameraTitle",{attrs:{info:t.aIInfo}}),e("div",{staticClass:"content"},[e("div",{staticClass:"tab"},t._l(["监控画面","告警事件"],(function(n,a){return e("div",{class:{selected:a===t.selectedIndex},on:{pointerdown:function(e){return t.showTab(n,a)}}},[t._v(" "+t._s(n)+" ")])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.selectedIndex,expression:"selectedIndex == 0"}],staticClass:"screen"},[e("pointPopupVideo",{attrs:{info:t.aIInfo}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.selectedIndex,expression:"selectedIndex == 1"}],staticClass:"event"},[e("div",{staticClass:"fn"},[e("div",{staticClass:"left"},[e("div",{staticClass:"key"},[t._v("事件:")]),e("div",{staticClass:"value"},[t._v(t._s(t.aIInfo.errorEvent.event))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"what"},[t._v(t._s(t.aIInfo.errorEvent.what))]),e("div",{staticClass:"line"}),e("div",{staticClass:"level"},[e("span",[t._v(t._s(t.aIInfo.errorEvent.level))])])])]),e("div",{staticClass:"position"},[e("div",{staticClass:"key"},[t._v("地点:")]),e("div",{staticClass:"value"},[t._v(t._s(t.aIInfo.errorEvent.position))])]),e("div",{staticClass:"time"},[e("div",{staticClass:"key"},[t._v("时间:")]),e("div",{staticClass:"value"},[t._v(t._s(t.aIInfo.errorEvent.time))])]),e("div",{staticClass:"img"},[e("div",{staticClass:"upper-right"},[e("div",[t._v(t._s(t.aIInfo.errorEvent.eventsState))])]),e("img",{attrs:{src:t.aIInfo.errorEvent.img}})])])])],1):t._e()},i=[],o=n("95bb"),s=n("ae90"),r=n("491d"),c={components:{pointPopupCameraTitle:o["a"],pointPopupVideo:s["default"]},name:"point-popup-AI",props:{id:{type:String,require:!1}},watch:{id:function(){this.loadData()}},data:function(){return{aIInfo:null,selectedIndex:0,isShow:!1}},mounted:function(){var t=this;"point-popup-AI"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(r["b"])("show-ai-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.aIInfo={type:"Al",state:!0,title:"Al点位-001",position:"12寸南边道路3（行为规范拍摄）",errorEvent:{img:"https://imgessl.kugou.com/mvhdpic/400/20230725/20230725112015213050.jpg",event:"人员聚集",what:"人行违规",level:"一般",position:"综合楼",time:"2023-07-18 09:14:56",eventsState:"待处理"},src:"https://mvwebfs.ali.kugou.com/202307251308/19ac3971dfed39a2d967dbcb78e2281f/KGTX/CLTX002/767117f5654e90b6c6d90cb5f8816c68.mp4"},console.log("加载数据")},showComs:function(){this.isShow=!1},showTab:function(t,e){this.selectedIndex=e}}},l=c,u=(n("c870"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"cc0a12b6",null);e["default"]=d.exports},"375e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.fish?t._e():e("div",{staticClass:"button right",class:0==t.$store.state.showRight2?"active":"",on:{click:t.switchRight}})},i=[],o={name:"switch-button-right",methods:{switchLeft:function(){this.$store.state.showLeft1=!this.$store.state.showLeft1,this.$store.state.showLeft2=!this.$store.state.showLeft1},switchRight:function(){this.$store.state.showRight1=!this.$store.state.showRight1,this.$store.state.showRight2=!this.$store.state.showRight1}}},s=o,r=(n("0976"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"5d3bf1c1",null);e["default"]=c.exports},"3a08":function(t,e,n){},"3d82":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"load",staticClass:"load"},[e("div",{staticClass:"loading"},[e("div",{staticClass:"vsg"},[e("svg",{attrs:{viewBox:"0 0 50 50"}},[e("circle",{staticClass:"ring",attrs:{cx:"25",cy:"25",r:"20"}}),e("circle",{staticClass:"ball",attrs:{cx:"25",cy:"5",r:"3.5"}})])]),e("div",{staticClass:"text"},[t._v(" Loading ")])])])},i=[],o={name:"Loading",data:function(){return{}},mounted:function(){},watch:{},methods:{}},s=o,r=(n("ce85"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"be8346b6",null);e["default"]=c.exports},4183:function(t,e,n){},"42e4":function(t,e,n){},4360:function(t,e,n){"use strict";var a=n("2f62"),i=n("2b0e"),o=n("ed08");i["default"].use(a["a"]),e["a"]=new a["a"].Store({state:{units:{},fish:Object(o["a"])(),showLeft1:!0,showLeft2:Object(o["a"])(),showRight1:Object(o["a"])(),showRight2:!0,fitLayoutRatio:0,onChangeRunSceneCallback:{},onResizeCallBack:{}},mutations:{setFitLayoutRatio:function(t,e){t.fitLayoutRatio=e,Object.values(t.onResizeCallBack).map((function(t){return t(e)}))}},actions:{}})},"447e":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{ref:"point-popup-comprehensive-content",class:1==t.info.length?"once point-popup-comprehensive-content":t.info.length<=3?"no-line point-popup-comprehensive-content":"point-popup-comprehensive-content",style:"grid-template-columns: repeat(".concat(t.info.length>=3?3:t.info.length,", 1fr)")},t._l(t.info,(function(n,a){return e("div",{staticClass:"info-item"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:(null===n||void 0===n?void 0:n.icon)||t.defaultImg,alt:""}})]),e("div",{staticClass:"right"},[e("div",{staticClass:"title"},[t._v(t._s(n.name))]),e("div",{staticClass:"num"},[e("div",{domProps:{innerHTML:t._s(t.fmt(n.num,n.unit))}})])])])})),0)},i=[],o={components:{},name:"pointPopupComprehensiveContent",props:["info"],data:function(){return{defaultImg:n("bd8c")}},mounted:function(){2==this.info.length&&this.$refs["point-popup-comprehensive-content"].classList.add("haveline")},methods:{}},s=o,r=(n("00cf"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"028cb91a",null);e["a"]=c.exports},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="4678"},4863:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-select"},t._l(t.times,(function(n){return e("div",{key:n,staticClass:"item",class:n==t.modelValue?"active":"",on:{click:function(e){return t.setTime(n)}}},[t._v(" "+t._s(t.key[n])+" ")])})),0)},i=[],o={name:"time-select",model:{prop:"modelValue",event:"update:modelValue"},props:{modelValue:String,times:{type:Array,default:function(){return["day","month","year"]}}},methods:{setTime:function(t){this.$emit("update:modelValue",t)}},data:function(){return{key:{day:"日",month:"月",year:"年"}}}},s=o,r=(n("5dc5"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"31d300a2",null);e["default"]=c.exports},"491d":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));var a=n("2b0e"),i=new a["default"],o=function(){var t;(ue4.apply(void 0,arguments),i.$emit.apply(i,arguments),location.href.indexOf("iframe")<=0)&&(window.parent.$send&&(t=window.parent).$send.apply(t,arguments))},s=function(t,e){ue["interface"][t]=e,i.$on(t,e)},r=function(t){ue["interface"][t]=null,i.$off(t)}},"495b":function(t,e,n){},"4c64":function(t,e,n){"use strict";n("08c7")},"4ca8":function(t,e,n){},"4e6a":function(t,e,n){"use strict";n("2b5d")},"4edb":function(t,e,n){},"50cc":function(t,e,n){"use strict";n("e8e8")},"51ef":function(t,e,n){t.exports=n.p+"img/能耗.ffbfe870.png"},5471:function(t,e,n){},5625:function(t,e,n){"use strict";n("d970")},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"},on:{dragstart:function(t){t.preventDefault()},selectstart:function(t){t.preventDefault()}}},[e("router-view")],1)},o=[],s=n("c1df"),r=n.n(s),c={data:function(){return{commonWidth:1920,fishWidth:3840}},methods:{},created:function(){}},l=c,u=n("2877"),d=Object(u["a"])(l,i,o,!1,null,"1ae2a43e",null),f=d.exports,h=n("a18c"),p=n("4360"),m=(n("245a"),n("5c96")),v=n.n(m),b=(n("0fae"),n("9455"),n("bbee"));b.keys().forEach((function(t){var e=b(t)["default"];e.name&&a["default"].component(e.name,e)}));var g=n("5530"),y=n("ed08");a["default"].mixin({computed:{fmt:function(){return function(t,e,n){t||(t=0),t*=1,n||(n="万"+e);var a="rgb(255,255,255,0.5)";return t>=1e4?(t=(t/1e4).toFixed(2),t+'<span class="fs" style="font-weight:100;font-size:14px;color:'.concat(a,';margin-left:4px">').concat(n,"</span>")):t+'<span class="fs" style="font-weight:100;font-size:14px;color:'.concat(a,';margin-left:4px">').concat(e,"</span>")}}}}),a["default"].filter("thousand",(function(t){return t.toLocaleString()})),a["default"].mixin({methods:{groupDataCount:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return 1},o=JSON.parse(JSON.stringify(t)),s={};o.map((function(t){n.indexOf("custom")>=0?s[n.split("-")[1]]=0:s[t[n]]=0}));var r={};return o.map((function(t){var o=a(t[e]);r[o]||(r[o]=Object(g["a"])({name:o},s)),n.indexOf("custom")>=0?r[o][n.split("-")[1]]+=i(t):r[o][t[n]]+=i(t)})),Object.values(r)}}}),a["default"].mixin({data:function(){return{fish:Object(y["a"])()}}}),a["default"].mixin({methods:{getTimeN:function(){return{day:1,month:2,year:3}[this.time]},getTime:function(t){return t||(t=this.time),"day"==t?[r()().format("YYYY-MM-DD"),r()().add(1,"days").format("YYYY-MM-DD")]:"month"==t?[r()().startOf("month").format("YYYY-MM-DD"),r()().add(1,"days").format("YYYY-MM-DD")]:"year"==t?[r()().startOf("year").format("YYYY-MM-DD"),r()().format("YYYY-MM-DD")]:void 0},getDateType:function(){return{year:2,day:6,month:3}[this.time]}},computed:{u:function(){return this.$store.state.units}}});var j=n("22b5");function C(){requestAnimationFrame(C),Object(j["b"])()}a["default"].use(v.a),C(),setTimeout((function(){p["a"].state.fish=Object(y["a"])(),p["a"].state.fish?(p["a"].state.showLeft1=!0,p["a"].state.showRight1=!0,p["a"].state.showLeft2=!0,p["a"].state.showRight2=!0):(p["a"].state.showLeft1=!0,p["a"].state.showRight1=!1,p["a"].state.showLeft2=!1,p["a"].state.showRight2=!0),new a["default"]({el:"#app",router:h["a"],store:p["a"],render:function(t){return t(f)}})}),500)},"578c":function(t,e,n){"use strict";n("69f1")},"5a28":function(t,e,n){"use strict";n("c32d")},"5b51":function(t,e,n){"use strict";n("fc44")},"5dc5":function(t,e,n){"use strict";n("3a08")},"5e14":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-statis"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:t.icon,alt:""}})]),e("div",{staticClass:"data"},t._l(t.data,(function(n){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(n.name))]),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(n.value,n.unit1,n.unit2))}}),e("div",{staticClass:"line",style:"opacity:".concat(n.showLine?1:0)})])})),0)])},i=[],o={name:"data-statis",props:{data:Array,icon:String}},s=o,r=(n("5b51"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"11ddd71c",null);e["default"]=c.exports},"5ef2":function(t,e,n){t.exports=n.p+"img/three-car-icon.88fd1fde.png"},"5ff3":function(t,e,n){"use strict";n("eaef")},"60cc":function(t,e,n){},6291:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-rank"},t._l(t.getData,(function(n,a){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"left"},[t._v(" "+t._s(n.name)+" ")]),e("div",{staticClass:"progress-main"},[e("div",{staticClass:"progress-over",style:"width:".concat(n.per,"%")})]),e("div",{staticClass:"value",class:a<=2?"green":""},[t._v(" "+t._s(t._f("thousand")(n.value))+" ")])])})),0)},i=[],o={filters:{},computed:{getData:function(){if(0==this.data.length)return[];if(!(this.data[0].value<=0)){var t=this.data[0].value;return this.data.map((function(e){e.per=e.value/t*100})),this.data}}},name:"specular-rank-line",props:{data:Array}},s=o,r=(n("ebb2"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"72eb2480",null);e["default"]=c.exports},"62fa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-progress"},t._l(t.data,(function(n){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v(t._s(n.name))]),e("div",{staticClass:"value"},[t._v(t._s(n.value)),e("span",{staticClass:"unit"},[t._v("%")])])]),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-main",style:"width:".concat(n.value,"%")})])])})),0)},i=[],o={name:"custom-progress",props:{data:Array}},s=o,r=(n("6755"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"8441249e",null);e["default"]=c.exports},"63c4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"chart_base",staticClass:"chart-base"})},i=[],o=n("5530"),s=n("313e"),r=(n("d015"),{name:"chart-base",data:function(){return{instance:null,isWaiting:!1,tooltipCurrentIndex:-1,autoLoopIndex:0}},props:{options:{type:Object,default:function(){return{}}},loading:Boolean,changeClear:{type:Boolean,default:!0},delay:Number,active:{type:Boolean,default:!0},tooltipType:{type:Object,default:function(){return{type:"",eventName:""}}},zoomLength:{type:Number,default:7},loadingStyle:{type:Object,default:function(){return{text:"loading",color:"rgb(27, 166, 255)",textColor:"#FFFFFF",maskColor:"rgba(0, 0, 0, 0.5)",fontSize:35,showSpinner:!0,spinnerRadius:30,lineWidth:8}}},devicePixelRatio:{type:Number,default:1}},methods:{initChart:function(){var t=this;window.addEventListener("resize",t.resizeChart),this.$refs.chart_base&&(this.instance=s["init"](this.$refs.chart_base,Object(o["a"])({theme:"macarons"},this.options||{}),{devicePixelRatio:this.devicePixelRatio}),this.loading&&this.instance.showLoading(this.loadingStyle))},resizeChart:function(){var t=this;this.active&&this.$nextTick((function(){setTimeout((function(){t.instance&&t.instance.resize()}),2e3)}))},refreshChart:function(){this.isWaiting||this.instance&&(this.changeClear,this.instance.setOption(this.options))},changeTooltip:function(){var t=this;this.$nextTick((function(){if(t.instance){var e="data"===t.tooltipType.type?t.options.series[0]&&t.options.series[0].data&&t.options.series[0].data.length:t.options.series.length;e||(e=1),t.tooltipCurrentIndex=(t.tooltipCurrentIndex+1)%e}}))},autoTooltip:function(){this.tooltipType.type&&this.$eventBus.$on(this.tooltipType.eventName||"chart-tooltip",this.changeTooltip)}},mounted:function(){var t=this;this.initChart(),this.isWaiting=!0,setTimeout((function(){t.isWaiting=!1,t.refreshChart()}),this.delay),this.autoTooltip()},watch:{tooltipCurrentIndex:function(t,e){var n=this;if(this.instance){var a=this.options.series[0]&&this.options.series[0].data&&this.options.series[0].data.length;if(this.zoomLength<a&&a>1){var i=100/a,o=t+1-this.zoomLength;this.instance.dispatchAction({type:"dataZoom",start:i*(o<0?0:o),end:i*(t<this.zoomLength?this.zoomLength:t+1)})}this.zoomTimer=setTimeout((function(){n.instance.dispatchAction({type:"downplay",seriesIndex:"series"===n.tooltipType.type?e:0,dataIndex:"data"===n.tooltipType.type?e:0}),n.instance.dispatchAction({type:"highlight",seriesIndex:"series"===n.tooltipType.type?t:0,dataIndex:"data"===n.tooltipType.type?t:0}),n.instance.dispatchAction({type:"showTip",seriesIndex:"series"===n.tooltipType.type?t:0,dataIndex:"data"===n.tooltipType.type?t:0}),clearTimeout(n.zoomTimer),n.zoomTimer=null}),500)}},active:function(t){t&&this.resizeChart()},loading:function(t){t?this.instance&&this.instance.showLoading(this.loadingStyle):this.instance&&this.instance.hideLoading()},options:{deep:!0,handler:function(){this.refreshChart()}}},beforeDestroy:function(){var t=this;this.tooltipTimer&&(this.$eventBus.$off(this.tooltipType.eventName,this.changeTooltip),this.tooltipTimer=!1),this.zoomTimer&&(clearTimeout(this.zoomTimer),this.zoomTimer=null),window.removeEventListener("resize",t.resizeChart),this.instance&&this.instance.clear(),this.instance&&this.instance.dispose(),this.instance=null},echarts:s}),c=r,l=(n("d317"),n("2877")),u=Object(l["a"])(c,a,i,!1,null,"23a992d2",null);e["default"]=u.exports},"673e":function(t,e,n){},6755:function(t,e,n){"use strict";n("ca5a")},"69f1":function(t,e,n){},"6d11":function(t,e,n){"use strict";n("bd46")},"71ba":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sub-title"},[e("div",{staticClass:"text"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"slot"},[t._t("default")],2)])},i=[],o={props:{title:String},name:"sub-title"},s=o,r=(n("04de"),n("112f"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"0b286b48",null);e["default"]=c.exports},7428:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui-banner",class:t.right?"ui-banner-right":"ui-banner-left"},[t.right?e("switch-button-right"):t._e(),t._t("default"),t.right?t._e():e("switch-button-left")],2)},i=[],o={name:"ui-banner",props:{right:{type:Boolean,default:!1}}},s=o,r=(n("7e29"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"274c38a8",null);e["default"]=c.exports},"79e6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"three-scene-jiangying",staticClass:"three-scene-jiangying",attrs:{onselectstart:"return false;"}},[e("Load",{directives:[{name:"show",rawName:"v-show",value:!t.loadingEnd,expression:"!loadingEnd"}]}),e("div",{staticClass:"btn",on:{pointerdown:function(t){return t.stopPropagation()}}})],1)},i=[],o=n("c7eb"),s=n("1da1"),r=n("2d49"),c=n.n(r),l=n("4360"),u=n("5a89"),d=n("5530"),f=n("d4ec"),h=n("bee2"),p=n("ade3"),m=n("8468"),v=(n("d9e2"),n("491d")),b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(t){var e=t.runScene,n=(t.Utils,t.store,t.core),a=(t.getModel,t.constant),i=t.bus,o=t.Three,s=t.camera,r=(t.scene,t.controls);t.renderer;Object(m["a"])(a);var c=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","initScene")}return Object(h["a"])(t,[{key:"mounted",value:function(){e.script.playAll()}},{key:"init",value:function(){}},{key:"blueprintFn",value:function(t){e.graph.runCustom(t)}},{key:"snapShotFn",value:function(t){e.snapshot.set(t),e.cameraEx.setTemp(t,{time:1})}}]),t}(),l=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","clickEvents")}return Object(h["a"])(t,[{key:"mounted",value:function(){}},{key:"clickEvents1",value:function(t){"宜兴"===t.name&&(console.log("宜兴"),Object(v["c"])("over-view"),Object(v["c"])("show-scene","zhongHuan"))}},{key:"clickEvents2",value:function(t){}}]),t}(),u=function(){function t(){var n=this;Object(f["a"])(this,t),Object(p["a"])(this,"name","events"),Object(p["a"])(this,"clickModel",null),Object(p["a"])(this,"isRunning",!0),Object(p["a"])(this,"triggerClick",(function(t){t&&(Object(v["c"])("logClickModel-jiangying",t),n.clickSprite(t))})),e.cb.model.click.add("trigger-click",this.triggerClick.bind(this)),this.refreshDom(),Object(v["b"])("sceneRunning2",(function(t){n.isRunning=t}))}return Object(h["a"])(t,[{key:"clickSprite",value:function(t){n.clickEvents.clickEvents1(t)}},{key:"refreshDom",value:function(){var t=this;e.cb.controls.change.add("setDialogPosition",(function(){if(t.clickModel){var e={outDom:document.querySelector("#app"),model:t.clickModel,camera:s},n=t.get2DVec(e),a=n.left,o=n.top,r={x:a,y:o};i.$emit("set-position-dialogThree","",r)}}))}},{key:"get2DVec",value:function(t){var e=t.camera,n=t.model,a=t.outDom,i=a.clientWidth,s=a.clientHeight,r=i/2,c=s/2,l=new o.Vector3,u=new o.Vector3;e.getWorldPosition(l),e.getWorldDirection(u);var d=new o.Vector3;n.updateMatrixWorld(),d.setFromMatrixPosition(n.matrixWorld);var f=d.clone();f.project(e);var h=new o.Vector3;h.subVectors(d,l),h.normalize();var p=u.dot(h),m=p>0?1:-1,v=(1+m*f.x)*r,b=(1-m*f.y)*c;return{left:v,top:b}}},{key:"getXy",value:function(t){var e={outDom:document.querySelector("#app"),model:t,camera:s},n=this.get2DVec(e),a=n.left,i=n.top,o={x:a,y:i};return o}},{key:"dispose",value:function(){r.removeEventListener("start",this.controlStart)}}]),t}();return[u,c,l]},i=a(Object(d["a"])(Object(d["a"])(Object(d["a"])({runScene:t,getModel:t.modelEx.getModel.bind(t.modelEx),core:t.custom},t.assetsEx.get()),e),{},{constant:n,window:null}));i&&i.map((function(e){var n=new e;if(!n.name)throw TypeError("代码出错");return t.custom[n.name]=n,n})).map((function(t){var e;return null===t||void 0===t||null===(e=t.mounted)||void 0===e?void 0:e.call(t)}))},g=n("3d82"),y=null,j=null,C=c.a.RunScene,w=c.a.Utils,O={name:"jiangying",components:{Load:g["default"]},data:function(){return{loadingEnd:!1,path:"./assets/s1.glb"}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadScene(t.path);case 2:n=e.sent,Object(v["b"])("logClickModel-jiangying",t.logClickModel),n.on("loaded",(function(){t.resize(l["a"].state.fitLayoutRatio,j),t.$emit("load"),b(j,{Utils:w,Three:u},{}),t.onDone()})),Object(v["b"])("sceneRunning1",(function(e){t.isRuning=e})),Object(v["b"])("freeze-jiangying",t.freezeScene),console.log("江阴初始化"),t.setBgc(j);case 9:case"end":return e.stop()}}),e)})))()},methods:{setBgc:function(t){return Object(s["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.assetsEx.engineDom,a=document.createElement("div"),a.style.position="absolute",a.style.left="50%",a.style.top="50%",a.style.transform="translate(-50%,-50%)",a.style.width="100%",a.style.height="100%",n.appendChild(a),a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="100% 100%",a.classList.add("bgc");case 12:case"end":return e.stop()}}),e)})))()},freezeScene:function(t){j.globalConfig.setState(t)},loadScene:function(t){return j=new C({render2:!0,render3:!0,renderConfig:{matrixAutoUpdate:!0,scriptFrame:60,event:{ignores:["resize"]}}}).load({path:t,dom:this.$refs["three-scene-jiangying"]}),j.setSize(3040,1040),j},openDialog:function(t,e,n){var a,i=this;this.$store.state.innerType1=n.split("_")[0],null===(a=j)||void 0===a||a.cb.controls.change.add("setDialogPosition",(function(){i.isRuning&&Object(v["c"])("set-position-dialogThree",t,e)})),Object(v["c"])("set-position-dialogThree",t,e),Object(v["c"])("set-state-dialogThree",!0)},resize:function(t,e){var n=e.assetsEx.engineDom.getBoundingClientRect();e.setSize(n.width/t,n.height/t)},onDone:function(){this.loadingEnd=!0},snapshot:function(t){Object(v["c"])("snapShotFn",t)},logClickModel:function(t){console.log("第一场景点击的模型为:",t.name)}},destroyed:function(){y&&y.dispose()}},k=O,_=(n("c6ab"),n("2877")),S=Object(_["a"])(k,a,i,!1,null,"2be1be2a",null);e["default"]=S.exports},"7d13":function(t,e,n){},"7e29":function(t,e,n){"use strict";n("5471")},"802c":function(t,e,n){"use strict";n("c7fe")},"86a7":function(t,e,n){},"87b5":function(t,e,n){"use strict";n("c111")},"8b17":function(t,e,n){"use strict";n("b49d")},"8b59":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.parkingInfo?e("div",{staticClass:"point-popup-parking"},[e("div",{staticClass:"title"},[e("pointPopupTrafficTitle",{attrs:{areaInfo:t.parkingInfo}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("pointPopupInfoContent",{attrs:{info:t.parkingInfo}})],1)])]):t._e()},i=[],o=n("491d"),s=n("c76e"),r=n("eea2"),c={components:{pointPopupTrafficTitle:s["a"],pointPopupInfoContent:r["a"]},name:"pointPopupParking",props:{id:{type:String,require:!1}},data:function(){return{selectedIndex:0,parkingInfo:null,isShow:!1}},watch:{id:function(){this.loadData()}},mounted:function(){var t=this;"point-popup-parking"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-travel-parking-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.parkingInfo={areaName:this.id,icon:n("bd8c"),arrInfo:[{key:"车位数量",name:"carNumber",value:365,unit:"个"},{key:"已用车位",name:"use",value:10,unit:"个"},{key:"剩余车位",name:"leave",value:4,unit:"个"}]}}}},l=c,u=(n("5ff3"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"26357106",null);e["default"]=d.exports},"8e9b":function(t,e,n){"use strict";n("4ca8")},"8eff":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"scoll",staticClass:"scroll-wrap",on:{mouseenter:t.c,mouseleave:t.autoScroll}},[t._t("default")],2)},i=[],o=n("22b5"),s={name:"scroll-wrap",props:{distance:{type:Number,default:1e3},times:{type:Number,default:4e3},times1:{type:Number,default:500}},methods:{c:function(){clearInterval(this.intv),this.intv=null},autoScroll:function(){var t=this;this.c();var e=this.$refs.scoll;this.intv=setInterval((function(){var n=e.scrollTop+t.distance,a=e.scrollTop+e.clientHeight-e.scrollHeight;Math.abs(a)<=5&&(n=0),new o["a"]({top:e.scrollTop}).to({top:n},t.times1).onUpdate((function(t){e.scrollTo(0,t.top)})).start()}),this.times)}},mounted:function(){this.autoScroll()},destroyed:function(){clearInterval(this.intv)}},r=s,c=(n("e9c3"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,"4ac54a42",null);e["default"]=l.exports},9455:function(t,e,n){},"95bb":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"point-popup-camera-title"},[e("div",{class:t.info.state?"title normal":"title error"},[e("div",{staticClass:"name"},[t._v(t._s(t.info.title))]),e("div",{staticClass:"close",on:{pointerdown:function(e){return t.close()}}})]),e("div",{staticClass:"position"},[t._v(t._s(t.info.position))])])},i=[],o=n("491d"),s={name:"pointPopupCameraTitle",props:["info"],data:function(){return{}},mounted:function(){},methods:{close:function(){Object(o["c"])("show-camera-info",!1),Object(o["c"])("show-ai-info",!1),Object(o["c"])("set-selected-camera-index",-1),Object(o["c"])("close-selected-doorControl",-1),Object(o["c"])("show-travel-doorControl-info",!1)}}},r=s,c=(n("5a28"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,"596a863e",null);e["a"]=l.exports},9649:function(t,e,n){},"97bc":function(t,e,n){"use strict";n("a1a1")},"991c":function(t,e,n){"use strict";n("b3bf")},"9fe2":function(t,e,n){"use strict";n("1dbc")},a16e:function(t,e,n){},a18c:function(t,e,n){"use strict";var a=n("2b0e"),i=n("8c4f"),o=[{name:"test",path:"/test",component:function(){return n.e("chunk-2d238672").then(n.bind(null,"feda"))}},{name:"iframe",path:"/iframe",component:function(){return n.e("chunk-2d0e9b8f").then(n.bind(null,"8f6a"))}},{name:"index",path:"/",component:function(){return n.e("chunk-1accff03").then(n.bind(null,"37f9"))},redirect:"/map ",meta:{name:"首页"},children:[{path:"/map",name:"map",meta:{name:"首页"},component:function(){return n.e("chunk-2d0c09d7").then(n.bind(null,"4313"))}},{path:"/overview",name:"overview",meta:{name:"综合态势"},component:function(){return n.e("chunk-ba76a050").then(n.bind(null,"4669"))}},{path:"/safe",name:"safe",meta:{name:"园区安防"},component:function(){return n.e("chunk-2acb7bb7").then(n.bind(null,"89d2"))}},{path:"/travel",name:"travel",meta:{name:"便携通行"},component:function(){return n.e("chunk-1e3b9d23").then(n.bind(null,"ea54"))}},{path:"/energy",name:"energy",meta:{name:"能源管理"},component:function(){return n.e("chunk-7ff252d0").then(n.bind(null,"06fd"))}},{path:"/device",name:"device",meta:{name:"设备设施"},component:function(){return n.e("chunk-43ef5b1b").then(n.bind(null,"5b05"))}}]},{name:"point-popup-AI",path:"/point-popup-AI",component:function(){return Promise.resolve().then(n.bind(null,"307c"))}},{name:"point-popup-camera",path:"/point-popup-camera",component:function(){return Promise.resolve().then(n.bind(null,"b3fa"))}},{name:"point-popup-comprehensive",path:"/point-popup-comprehensive",component:function(){return Promise.resolve().then(n.bind(null,"fb8c"))}},{name:"point-popup-door",path:"/point-popup-door",component:function(){return Promise.resolve().then(n.bind(null,"bd0c"))}},{name:"point-popup-energy",path:"/point-popup-energy",component:function(){return Promise.resolve().then(n.bind(null,"fdb8"))}},{name:"point-popup-factory",path:"/point-popup-factory",component:function(){return Promise.resolve().then(n.bind(null,"2af1"))}},{name:"point-popup-parking",path:"/point-popup-parking",component:function(){return Promise.resolve().then(n.bind(null,"8b59"))}},{name:"point-popup-safe",path:"/point-popup-safe",component:function(){return Promise.resolve().then(n.bind(null,"0d08"))}},{name:"point-popup-safe-other",path:"/point-popup-safe-other",component:function(){return Promise.resolve().then(n.bind(null,"1c3c"))}},{name:"point-popup-traffic",path:"/point-popup-traffic",component:function(){return n.e("chunk-0334cac6").then(n.bind(null,"7275"))}},{name:"point-popup-video",path:"/point-popup-video",component:function(){return Promise.resolve().then(n.bind(null,"ae90"))}}],s=n("c7eb"),r=n("b85c"),c=n("1da1"),l=n("491d"),u=n("4360"),d=n("ed08"),f=function(t){t.beforeEach(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(e,n,a){var i,o,c,f,h,p;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.name){t.next=3;break}return a({name:"map"}),t.abrupt("return");case 3:if(document.getElementsByClassName("ui-banner").length>=1){i=Object(r["a"])(document.getElementsByClassName("ui-banner-left"));try{for(i.s();!(o=i.n()).done;)c=o.value,c.style.marginLeft=0-c.offsetWidth-36+"px"}catch(n){i.e(n)}finally{i.f()}f=Object(r["a"])(document.getElementsByClassName("ui-banner-right"));try{for(f.s();!(h=f.n()).done;)p=h.value,p.style.marginRight=0-p.offsetWidth-36+"px"}catch(n){f.e(n)}finally{f.f()}setTimeout((function(){Object(l["c"])(e.name),Object(d["a"])()||(u["a"].state.showLeft1=!0,u["a"].state.showRight1=!1,u["a"].state.showLeft2=!1,u["a"].state.showRight2=!0),a()}),1e3)}else a();case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()),window.router=t};a["default"].use(i["a"]);var h=new i["a"]({routes:o}),p=i["a"].prototype.push;i["a"].prototype.push=function(t){return p.call(this,t)["catch"]((function(t){return t}))},f(h);e["a"]=h},a1a1:function(t,e,n){},a1d4:function(t,e,n){},a7c4:function(t,e,n){},ad0d:function(t,e,n){},ae90:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"point-popup-video"},[e("video",{ref:"camera-video",staticClass:"camera-video",attrs:{src:t.info.src,autoplay:"true",width:"100%",height:"100%"}}),e("div",{staticClass:"amplify",on:{pointerdown:t.openCameraVideo}})])},i=[],o=n("c7eb"),s=n("1da1"),r={name:"pointPopupVideo",props:["info"],data:function(){return{}},mounted:function(){},methods:{openCameraVideo:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("openvideo"),e.next=3,t.$refs["camera-video"].requestFullscreen();case 3:case"end":return e.stop()}}),e)})))()}}},c=r,l=(n("12f3"),n("2877")),u=Object(l["a"])(c,a,i,!1,null,"4723564c",null);e["default"]=u.exports},af59:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-title"},[e("div",{staticClass:"text pm"},[t._v(t._s(t.title))]),e("div",{staticClass:"right"},[t._t("default")],2)])},i=[],o={name:"custom-title",props:{title:String}},s=o,r=(n("87b5"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"353084a4",null);e["default"]=c.exports},b3bf:function(t,e,n){},b3fa:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.cameraInfo?e("div",{staticClass:"point-popup-camera"},[e("pointPopupCameraTitle",{attrs:{info:t.cameraInfo},on:{showComs:t.showComs}}),e("div",{staticClass:"content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.cameraInfo.src,expression:"cameraInfo.src"}],staticClass:"frame"},[e("video",{ref:"camera-video",attrs:{cl:"",ass:"camera-video",src:t.cameraInfo.src,autoplay:"true",width:"100%",height:"100%"}}),e("div",{staticClass:"amplify",on:{pointerdown:t.openCameraVideo}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.cameraInfo.src,expression:"!cameraInfo.src"}],staticClass:"err"},[e("div",{staticClass:"t1"},[t._v("设备离线")]),e("div",{staticClass:"t2"},[t._v("监控画面，显示错误")])])])],1):t._e()},i=[],o=n("c7eb"),s=n("1da1"),r=n("491d"),c=n("95bb"),l={props:{id:{type:String,require:!1}},components:{pointPopupCameraTitle:c["a"]},watch:{id:function(){this.loadData()}},name:"pointPopupCamera",data:function(){return{cameraInfo:null,isShow:!1}},mounted:function(){var t=this;"point-popup-camera"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(r["b"])("show-camera-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.cameraInfo={type:"外围-001",state:!0,title:this.id,position:"厂区西南角1"}},showComs:function(){this.isShow=!1,Object(r["c"])("set-selected-camera-index",-1)},openCameraVideo:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("全屏操作~"),e.next=3,t.$refs["camera-video"].requestFullscreen();case 3:case"end":return e.stop()}}),e)})))()}}},u=l,d=(n("c27c"),n("2877")),f=Object(d["a"])(u,a,i,!1,null,"fb64ab48",null);e["default"]=f.exports},b49d:function(t,e,n){},b5c1:function(t,e,n){"use strict";n("d65e")},bac9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center-wrap"},[e("div",{staticClass:"layout"},[e("div",{staticClass:"lefts",style:"width:".concat(t.widths,"px")}),e("div",{staticClass:"rights",style:"width:".concat(t.widths,"px")}),e("div",{staticClass:"tops",style:"height:".concat(t.heights,"px")}),e("div",{staticClass:"bottoms",style:"height:".concat(t.heights,"px")}),e("div",{staticClass:"fit-layout",style:t.getStyle},[t._t("default")],2)])])},i=[],o=n("4360"),s={name:"fit-layout",props:{width:{type:Number,default:1920},height:{type:Number,default:1080}},data:function(){return{widths:0,heights:0,x:1,y:1}},methods:{setScale:function(){var t=document.body,e=t.offsetWidth,n=t.offsetHeight,a=this.width,i=this.height,s=a/i,r=e/n;r>s?(this.y=n/i,this.x=this.y,this.heights=0,this.widths=(e-this.width*this.x)/2):(this.x=e/a,this.y=this.x,this.widths=0,this.heights=(n-this.height*this.x)/2),o["a"].commit("setFitLayoutRatio",this.x)}},created:function(){this.setScale(),window.addEventListener("resize",this.setScale)},destroyed:function(){window.removeEventListener("resize",this.setScale)},computed:{getStyle:function(){return{height:this.height+"px",width:this.width+"px",transform:"scale(".concat(this.x,")")}}}},r=s,c=(n("f5ba"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,null,null);e["default"]=l.exports},bbee:function(t,e,n){var a={"./chart-base/index.vue":"63c4","./custom-line/index.vue":"dfb7","./custom-monitor/index.vue":"297f","./custom-pie/index.vue":"1ec1","./custom-progress/index.vue":"62fa","./custom-rank/index.vue":"dbf6","./custom-title/index.vue":"af59","./data-statis-card/index.vue":"0159","./data-statis-one/index.vue":"e10f","./data-statis/index.vue":"5e14","./empty/index.vue":"fa47","./fit-layout/index.vue":"bac9","./line-progress/index.vue":"c6f5","./move-bar/index.vue":"2193","./rose-pie/index.vue":"ef6b","./scroll-wrap/index.vue":"8eff","./specular-line/index.vue":"0ab7","./specular-rank-line/index.vue":"6291","./specular-rank/index.vue":"0a64","./sub-title/index.vue":"71ba","./switch-button-left/index.vue":"07a0","./switch-button-right/index.vue":"375e","./three-scene/components/load/index.vue":"3d82","./three-scene/jiangying/index.vue":"79e6","./three-scene/zhonghuan/index.vue":"f299","./time-select/index.vue":"4863","./ui-banner/index.vue":"7428"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="bbee"},bd0c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.doorInfo?e("div",{staticClass:"point-popup-door"},[e("pointPopupCameraTitle",{attrs:{info:t.doorInfo}}),e("div",{staticClass:"content"},[e("div",{staticClass:"tab"},t._l(["识别记录","告警事件"],(function(n,a){return e("div",{class:{selected:a===t.selectedIndex},on:{pointerdown:function(e){return t.showTab(n,a)}}},[t._v(" "+t._s(n)+" ")])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.selectedIndex,expression:"selectedIndex == 0"}],staticClass:"identify"},[t._l(t.identifyArr,(function(n,a){return e("div",{class:n.value},[e("div",{staticClass:"key"},[t._v(t._s(n.key)+" :")]),e("div",{staticClass:"value"},[t._v(t._s(t.doorInfo.identifyEvent[n.value]))])])})),e("div",{staticClass:"img"},[e("img",{attrs:{src:t.doorInfo.identifyEvent.img,alt:""}})])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.selectedIndex,expression:"selectedIndex == 1"}],staticClass:"event"},[e("div",{staticClass:"fn"},[e("div",{staticClass:"left"},[e("div",{staticClass:"key"},[t._v("事件:")]),e("div",{staticClass:"value"},[t._v(t._s(t.doorInfo.errorEvent.event))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"what"},[t._v(t._s(t.doorInfo.errorEvent.what))]),e("div",{staticClass:"line"}),e("div",{staticClass:"level"},[e("span",[t._v(t._s(t.doorInfo.errorEvent.level))])])])]),e("div",{staticClass:"position"},[e("div",{staticClass:"key"},[t._v("地点:")]),e("div",{staticClass:"value"},[t._v(t._s(t.doorInfo.errorEvent.position))])]),e("div",{staticClass:"time"},[e("div",{staticClass:"key"},[t._v("时间:")]),e("div",{staticClass:"value"},[t._v(t._s(t.doorInfo.errorEvent.time))])]),e("div",{staticClass:"img"},[e("div",{staticClass:"upper-right"},[e("div",[t._v(t._s(t.doorInfo.errorEvent.eventsState))])]),e("img",{attrs:{src:t.doorInfo.errorEvent.img}})])])])],1):t._e()},i=[],o=n("491d"),s=n("95bb"),r={components:{pointPopupCameraTitle:s["a"]},name:"pointPopupDoor",props:{id:{type:String,require:!1}},watch:{id:function(){this.loadData()}},data:function(){return{isShow:!1,doorInfo:null,selectedIndex:0,identifyArr:[{key:"名称",value:"name"},{key:"类型",value:"type"},{key:"地点",value:"position"},{key:"时间",value:"time"}]}},mounted:function(){var t=this;"point-popup-door"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-travel-doorControl-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.doorInfo={type:"door",state:!1,title:this.id,position:"东南门入口闸机2",errorEvent:{img:"https://imgessl.kugou.com/mvhdpic/400/20230725/20230725112015213050.jpg",event:"黑名单人员",what:"视频监控",level:"一般",position:"综合楼",time:"2023-07-18 09:14:56",eventsState:"待处理"},identifyEvent:{name:"王富贵",type:"零食防控",position:"东南门",time:"2023-07-18 09:14:56",img:"https://imgessl.kugou.com/mvhdpic/400/20230725/20230725112015213050.jpg"},src:"https://mvwebfs.ali.kugou.com/202307251308/19ac3971dfed39a2d967dbcb78e2281f/KGTX/CLTX002/767117f5654e90b6c6d90cb5f8816c68.mp4"}},showTab:function(t,e){this.selectedIndex=e}}},c=r,l=(n("6d11"),n("2877")),u=Object(l["a"])(c,a,i,!1,null,"2466f44a",null);e["default"]=u.exports},bd46:function(t,e,n){},bd8c:function(t,e,n){t.exports=n.p+"img/three-person-icon.b19c2a6e.png"},bf55:function(t,e,n){"use strict";n.r(e);var a=n("96eb");Object(a["mock"])("http://localhost/test",{code:200,msg:"成功",data:"测试数据"})},bf99:function(t,e,n){"use strict";n("1625")},c111:function(t,e,n){},c27c:function(t,e,n){"use strict";n("1808")},c32d:function(t,e,n){},c6ab:function(t,e,n){"use strict";n("a1d4")},c6f5:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-pie"},[e("div",{staticClass:"chart"},t._l(t.data,(function(n,a){return e("div",{key:n.name,style:"width:".concat(n.per,"%;background:").concat(t.color[a])})})),0),e("div",{staticClass:"main"},t._l(t.data,(function(n,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"item-color",style:"background:".concat(t.color[a])}),e("div",{staticClass:"item-title"},[t._v(t._s(n.name))]),e("div",{staticClass:"item-text"},[t._v(t._s(n.value))]),e("div",{staticClass:"item-per"},[t._v(t._s(n.per)),e("span",{staticClass:"unit"},[t._v("%")])])])})),0)])},i=[],o={name:"line-progress",props:{data:Array,color:Array},computed:{getAll:function(){var t=0;return this.data.map((function(e){t+=e.value})),t}},data:function(){return{option:{}}},watch:{data:function(){this.loadOption()}},methods:{loadOption:function(){var t=this.getAll;this.data.map((function(e){e.per=0==t?0:(e.value/t*100).toFixed(2)}))}},created:function(){this.loadOption()}},s=o,r=(n("e3d6"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"1c5d5a47",null);e["default"]=c.exports},c76e:function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"point-popup-traffic-title"},[e("div",{staticClass:"left"},[t._v(t._s(t.areaInfo.areaName))])])},i=[],o={components:{},name:"pointPopupTrafficTitle",props:["areaInfo"],data:function(){return{}},mounted:function(){},methods:{}},s=o,r=(n("b5c1"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"7627f5f8",null);e["a"]=c.exports},c7fe:function(t,e,n){},c870:function(t,e,n){"use strict";n("9649")},ca5a:function(t,e,n){},ce85:function(t,e,n){"use strict";n("f3a6")},cf75b:function(t,e,n){},d317:function(t,e,n){"use strict";n("2913")},d65e:function(t,e,n){},d7a5:function(t,e,n){},d970:function(t,e,n){},dbf6:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-rank"},t._l(t.getData,(function(n,a){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"icon",class:a<=2?"rank-1":"rank-2"},[t._v(t._s(a+1))]),e("div",{staticClass:"address",class:a<=2?"green":""},[t._v(" "+t._s(n.name)+" ")])]),e("div",{staticClass:"value",class:a<=2?"green":""},[t._v(" "+t._s(t._f("thousand")(n.value))+" ")])]),e("div",{staticClass:"progress-main"},[e("div",{staticClass:"progress-over",style:"width:".concat(n.per,"%")},[e("div",{staticClass:"pm"})]),e("div",{staticClass:"point",style:"left:".concat(n.per,"%")})])])})),0)},i=[],o={filters:{},computed:{getData:function(){if(0==this.data.length)return[];var t=0==this.data[0].value?.1:this.data[0].value;return this.data.map((function(e){e.per=e.value/t*100})),this.data}},name:"custom-rank",props:{data:Array}},s=o,r=(n("4e6a"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"68380dee",null);e["default"]=c.exports},dfb7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"move-bar-chart",on:{mouseenter:function(e){t.isHover=!0},mouseleave:function(e){t.isHover=!1}}},[e("chart-base",{ref:"canvas",attrs:{options:t.options}})],1)},i=[],o=(n("14d9"),n("313e"),{name:"custom-line",props:{source:Array,yAxisName:{type:String,default:"件"},maxShow:{type:Number,default:4},time:{type:Number,default:2e3},colors:{type:Array,default:function(){return[]}}},watch:{source:function(){this.loadData()}},data:function(){return{isHover:!1,startIndex:0,options:{}}},methods:{loadData:function(){var t=this;if(clearInterval(this.intv),this.source[0]){var e=Object.keys(this.source[0]).filter((function(t){return"name"!=t})),n=[];e.map((function(t,e){n.push({type:"line",name:t,smooth:!0,data:[],symbolSize:0,areaStyle:{opacity:.2}})})),this.options={color:this.colors.map((function(t){return t.color})),grid:{top:35,left:0,right:0,bottom:0,containLabel:!0},legend:{icon:"rectangle",right:0,top:0,itemWidth:16,itemHeight:4,itemGap:24,textStyle:{color:"rgba(255,255,255,0.7)",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#00FFE0",width:2}},backgroundColor:"rgb(5,41,75)",borderColor:"#00FFE0",textStyle:{fontSize:14,color:"#00FFE0"}},xAxis:{axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}},boundaryGap:[0,100]},yAxis:{nameTextStyle:{fontSize:14,color:"rgba(255,255,255,0.6)",align:"right"},axisTick:{show:!0,lineStyle:{color:"rgb(33,215,181)"}},axisLabel:{margin:18,textStyle:{fontSize:14,color:"rgba(255,255,255,0.6)"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(255,255,255,0.2)"}},name:this.yAxisName,type:"value"},series:n},this.options.xAxis.data=this.source.map((function(t){return t.name})),e.map((function(e,n){t.options.series[n].data=t.source.map((function(t){return t[e]}))}))}}},mounted:function(){this.loadData()},destroyed:function(){clearInterval(this.intv)}}),s=o,r=(n("0072"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"33c4ceae",null);e["default"]=c.exports},e10f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-statis"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:t.icon,alt:""}})]),e("div",{staticClass:"titles"},[t._v(t._s(t.title))]),e("div",{staticClass:"data"},t._l(t.data,(function(n){return e("div",{key:n.name,staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(n.name))]),e("div",{staticClass:"value",domProps:{innerHTML:t._s(t.fmt(n.value,n.unit1,n.unit2))}})])})),0)])},i=[],o={name:"data-statis-one",props:{data:Array,title:String,icon:String}},s=o,r=(n("20c7"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"15dff564",null);e["default"]=c.exports},e3d6:function(t,e,n){"use strict";n("eb64")},e687:function(t,e,n){},e8e8:function(t,e,n){},e9c3:function(t,e,n){"use strict";n("a16e")},eaef:function(t,e,n){},eb64:function(t,e,n){},ebb2:function(t,e,n){"use strict";n("2dac")},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("852e");var a=function(){return document.body.offsetWidth/window.innerHeight>3}},eea2:function(t,e,n){"use strict";var a=function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"point-popup-info-content"},[n("div",{staticClass:"icon"},[n("img",{attrs:{src:(null===(t=e.info)||void 0===t?void 0:t.icon)||e.defaultImg,alt:""}})]),e._l(e.info.arrInfo,(function(t,a){return n("div",[n("div",{staticClass:"title"},[e._v(e._s(t.key))]),n("div",{staticClass:"num"},[n("div",{domProps:{innerHTML:e._s(e.fmt(t.value,t.unit))}})])])}))],2)},i=[],o={components:{},name:"pointPopupInfoContent",props:["info"],data:function(){return{defaultImg:n("bd8c")}},mounted:function(){},methods:{}},s=o,r=(n("1c44"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"516a3ad5",null);e["a"]=c.exports},ef6b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-pie"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"chart-main"},[e("chart-base",{attrs:{options:t.option}})],1)]),e("div",{staticClass:"main"},t._l(t.data,(function(n,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"item-color",style:"background:".concat(t.color[a])}),e("div",{staticClass:"item-title"},[t._v(t._s(n.name))]),e("div",{staticClass:"item-text"},[t._v(t._s(n.value))]),e("div",{staticClass:"item-per"},[t._v(t._s(n.per)),e("span",{staticClass:"unit"},[t._v("%")])])])})),0)])},i=[],o={name:"rose-pie",props:{data:Array,title:String,color:Array},computed:{getAll:function(){var t=0;return this.data.map((function(e){t+=e.value})),t}},data:function(){return{option:{}}},watch:{data:function(){this.loadOption()}},methods:{loadOption:function(){var t=this.getAll;this.data.map((function(e){e.per=0==t?0:(e.value/t*100).toFixed(2)})),this.option={series:{name:"",radius:[25,70],type:"pie",data:this.data,roseType:"radius",itemStyle:{},label:{show:!1}},color:this.color}}},created:function(){this.loadOption()}},s=o,r=(n("bf99"),n("2877")),c=Object(r["a"])(s,a,i,!1,null,"c5b64782",null);e["default"]=c.exports},f0e2:function(t,e,n){"use strict";n("7d13")},f299:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{ref:"three-scene-zhonghuan",staticClass:"three-scene-zhonghuan",attrs:{onselectstart:"return false;"}},[e("Load",{directives:[{name:"show",rawName:"v-show",value:!t.loadingEnd,expression:"!loadingEnd"}]}),e("div",{staticClass:"btn",on:{pointerdown:function(t){t.stopPropagation()}}}),t._l(t.allDoor,(function(n,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingEnd,expression:"loadingEnd"}],class:"door_sprite "+" door_".concat(n),on:{pointerdown:function(e){return t.doorEvents(n)}}},[e("div",{staticClass:"top"},[e("div",[t._v(t._s(n))])]),t._m(0,!0)])})),t._l(t.workshopSprite,(function(n,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingEnd,expression:"loadingEnd"}],staticClass:"top-card",class:"workshop_"+n.replace("#","")+"".concat(t.topCard==a?" selected":""),on:{pointerdown:function(e){return e.preventDefault(),t.selectWorkShop(n,e,a)}}},[e("div",{staticClass:"triangle"}),e("div",{staticClass:"name"},[e("div",{staticClass:"text"},[t._v(t._s(n))])])])})),t._l(t.cameraInfo,(function(n,a,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingEnd,expression:"loadingEnd"}],key:a,class:"".concat(n["class"]," ")+"camera_".concat(n.type," ")+"camera_info_sprite "+"".concat(t.selectedCameraIndex===i?"ai"===n.type?"ai-selected ":"monitor-selected ":"")+"".concat(n.type,"_camera_").concat(n.state),on:{pointerdown:function(e){return t.selectedCameraFn(n,i,e)}}})})),t._l(t.doorControl,(function(n,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingEnd,expression:"loadingEnd"}],class:"door-control "+"door-control-".concat(n," ")+"".concat(t.selectedDoorControlIndex===a?"door-control-selected":""),on:{pointerdown:function(e){return t.selectedDoorControl(n,a)}}})})),e("pointPopupDoor",{staticClass:"travel_door_control",attrs:{id:t.travelDoorControlId}}),e("pointPopupCamera",{staticClass:"camera_sprite_popup",attrs:{id:t.normalCameraId}}),e("pointPopupAl",{staticClass:"camera_ai_popup",attrs:{id:t.aiId}}),e("pointPopupComprehensive",{staticClass:"comprehensive_popup",attrs:{id:t.comprehensiveDoorId}}),e("pointPopupSafe",{ref:"safe_door",staticClass:"safe_door",attrs:{id:t.safeDoorId}}),e("pointPopupSafeOther",{ref:"safe_other",staticClass:"safe_other",attrs:{id:t.safeOtherId},on:{buildDetails:t.buildDetails}}),e("pointPopupFactory",{staticClass:"travel_build",attrs:{id:t.travelBuildId}}),e("pointPopupParking",{staticClass:"travel_parking",attrs:{id:t.travelParkingId}}),e("pointPopupEnergy",{staticClass:"energy_sprite",attrs:{id:t.energyId}})],2)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"bootom"},[e("div")])}],o=n("c7eb"),s=n("1da1"),r=(n("14d9"),n("2d49")),c=n.n(r),l=n("4360"),u=n("5a89"),d=n("5530"),f=n("d4ec"),h=n("bee2"),p=n("ade3"),m=n("8468"),v=(n("d9e2"),n("491d")),b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(t){var e=t.runScene,n=t.Utils,a=(t.store,t.core),i=t.getModel,o=t.constant,s=(t.bus,t.Three),r=t.camera,c=(t.scene,t.controls);t.renderer;Object(m["a"])(o);var l=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","initScene")}return Object(h["a"])(t,[{key:"mounted",value:function(){e.script.playAll(),e.cameraEx.setTemp("复原",{time:2})}},{key:"init",value:function(){}},{key:"blueprintFn",value:function(t){e.graph.runCustom(t)}},{key:"snapShotFn",value:function(t){e.snapshot.set(t),e.cameraEx.setTemp(t,{time:1})}}]),t}(),u=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","clickEvents"),Object(p["a"])(this,"lastCameraModel",null),Object(p["a"])(this,"lastComprehensiveModel",null),Object(p["a"])(this,"lastAiModel",null),Object(p["a"])(this,"lastTravelDoorModel",null),Object(p["a"])(this,"lastEnergyModel",null),Object(p["a"])(this,"dom",null),Object(p["a"])(this,"lastTravelParkingModel",null),Object(p["a"])(this,"lastTravelBuildModel",null),Object(p["a"])(this,"lastSafeDoorModel",null),Object(p["a"])(this,"lastSafeOtherModel",null),Object(p["a"])(this,"comprehensive",["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","污水站","东门","北门","西南门","东南门","柴发站"]),Object(p["a"])(this,"door",["东门点","北门点","西南门点","东南门点"]),Object(p["a"])(this,"modelDoor",["东门","北门","西南门","东南门"]),Object(p["a"])(this,"aiCameraPoint",["024","038","052","057",167]),Object(p["a"])(this,"aiCamera",["外围-024","外围-038","外围-052","外围-057","外围-167"])}return Object(h["a"])(t,[{key:"mounted",value:function(){this.refreshDom(),this.dom=e.assetsEx.engineDom,Object(v["b"])("web-click-comprehensive",this.webClickComprehensive.bind(this)),Object(v["b"])("web-click-safe",this.webClickSafe.bind(this)),Object(v["b"])("web-click-camera",this.webClickNormalCamera.bind(this)),Object(v["b"])("web-click-camera-ai",this.webClickAi.bind(this)),Object(v["b"])("web-click-travel",this.webClickTravel.bind(this)),Object(v["b"])("web-click-door-control",this.webClickTravelDoorControl.bind(this)),Object(v["b"])("web-click-energy",this.webClickEnergy.bind(this)),Object(v["b"])("clickSafeModel",this.clickSafeModel.bind(this)),Object(v["b"])("clickParking",this.clickParking.bind(this))}},{key:"webClickEnergy",value:function(t){var e=this;this.lastEnergyModel=i(t),a.camera.closeSprite(),n.getMacro((function(){e.refreshEnergyPosition({camera:r,model:e.lastEnergyModel,outDom:e.dom}),Object(v["c"])("show-energy-info",!0),Object(v["c"])("updatesEnergyId",t)}),300)}},{key:"refreshEnergyPosition",value:function(t){var e=document.querySelector(".energy_sprite");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"webClickTravelDoorControl",value:function(t){var e=this;a.camera.closeSprite(),this.lastTravelDoorModel=i(t),Object(v["c"])("updatesTravelDoorId",t),Object(v["c"])("show-travel-doorControl-info",!0),n.getMacro((function(){e.refreshTravelDoorPosition({camera:r,model:e.lastTravelDoorModel,outDom:e.dom})}),100)}},{key:"refreshTravelDoorPosition",value:function(t){var e=document.querySelector(".travel_door_control");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:24,px:24})}}},{key:"webClickTravel",value:function(t){a.camera.closeSprite(),this.clickTravelBuild(t)}},{key:"clickTravelBuild",value:function(t){var e=this;this.lastTravelBuildModel=i(t),Object(v["c"])("show-travel-build-info",!0),n.getMacro((function(){e.refreshTravelBuildPosition({camera:r,model:e.lastTravelBuildModel,outDom:e.dom}),Object(v["c"])("updatesTravelBuildId",t)}),100),console.log("safe-travel-build:",t)}},{key:"refreshTravelBuildPosition",value:function(t){var e=document.querySelector(".travel_build");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"clickParking",value:function(t){var e=this;this.lastTravelParkingModel=i(t),Object(v["c"])("updatesTravelParkingId",t),Object(v["c"])("show-travel-parking-info",!0),n.getMacro((function(){e.refreshTravelParkingPosition({camera:r,model:e.lastTravelParkingModel,outDom:e.dom})}),100),console.log("safe-click-travel-parking:",t)}},{key:"refreshTravelParkingPosition",value:function(t){var e=document.querySelector(".travel_parking");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"webClickSafe",value:function(t){a.camera.closeSprite(),!this.door.includes(t)&&this.safeOther(t)}},{key:"clickSafeModel",value:function(t){this.modelDoor.includes(t)&&(a.camera.closeSprite(),a.areaLight.showLight("",!0),this.safeDoor(t),Object(v["c"])("close-topCard"),Object(v["c"])("clear-last-snapShot"))}},{key:"safeDoor",value:function(t){var e=this;this.lastSafeDoorModel=i(t),n.getMacro((function(){Object(v["c"])("updatesSafeDoorId",t),Object(v["c"])("show-safe-info",!0),e.refreshSafeDoorPosition({camera:r,model:e.lastSafeDoorModel,outDom:e.dom})}),200),console.log("safe-door:",t)}},{key:"refreshSafeDoorPosition",value:function(t){var e=document.querySelector(".safe_door");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"safeOther",value:function(t){var e=this;this.lastSafeOtherModel=i(t),Object(v["c"])("clear-last-snapShot"),Object(v["c"])("show-safe-other-info",!0),n.getMacro((function(){e.refreshSafeOtherPosition({camera:r,model:e.lastSafeOtherModel,outDom:e.dom}),Object(v["c"])("updatesSafeOtherId",t)}),200),console.log("safe-other:",t)}},{key:"refreshSafeOtherPosition",value:function(t){var e=document.querySelector(".safe_other");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"webClickNormalCamera",value:function(t){var e=this;this.aiCameraPoint.includes(t)||(a.camera.closeSprite(),this.lastCameraModel=i("外围点位-".concat(t)),Object(v["c"])("show-camera-info",!0),Object(v["c"])("updateNormalCameraId",t),n.getMacro((function(){e.refreshNormalCameraPosition({camera:r,model:e.lastCameraModel,outDom:e.dom})}),100),console.log("web--normal-camera"))}},{key:"refreshNormalCameraPosition",value:function(t){var e=document.querySelector(".camera_sprite_popup");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:24,px:24})}}},{key:"webClickAi",value:function(t){var e=this;this.aiCameraPoint.includes(t)&&(a.camera.closeSprite(),this.lastAiModel=i("外围点位-".concat(t)),Object(v["c"])("show-ai-info",!0),Object(v["c"])("updateAiId",t),n.getMacro((function(){e.refreshAiPosition({camera:r,model:e.lastAiModel,outDom:e.dom})}),100),console.log("web--Ai--camera"))}},{key:"refreshAiPosition",value:function(t){var e=document.querySelector(".camera_ai_popup");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:24,px:24})}}},{key:"webClickComprehensive",value:function(t){var e=this;this.comprehensive.includes(t)&&(a.camera.closeSprite(),this.lastComprehensiveModel=i(t),Object(v["c"])("show-comprehensive-info",!0),Object(v["c"])("updateComprehensiveDoorId",t),n.getMacro((function(){e.refreshComprehensivePosition({camera:r,model:e.lastComprehensiveModel,outDom:e.dom})}),100),console.log("标签---综合态势"))}},{key:"clickComprehensiveModel",value:function(t){var e=t.name;this.modelDoor.includes(e)&&(this.webClickComprehensive(e),Object(v["c"])("close-topCard"))}},{key:"refreshComprehensivePosition",value:function(t){var e=document.querySelector(".comprehensive_popup");if(e){var n=a.events.get2DVec(t),i=n.left,o=n.top,s={x:i,y:o};this.setPosition(e,s,!0,{py:100,px:-150})}}},{key:"refreshDom",value:function(){var t=this;e.cb.controls.change.add("setDialogPosition",(function(){t.lastCameraModel&&t.refreshNormalCameraPosition({camera:r,model:t.lastCameraModel,outDom:t.dom}),t.lastComprehensiveModel&&t.refreshComprehensivePosition({camera:r,model:t.lastComprehensiveModel,outDom:t.dom}),t.lastAiModel&&t.refreshAiPosition({camera:r,model:t.lastAiModel,outDom:t.dom}),t.lastSafeDoorModel&&t.refreshSafeDoorPosition({camera:r,model:t.lastSafeDoorModel,outDom:t.dom}),t.lastTravelParkingModel&&t.refreshTravelParkingPosition({camera:r,model:t.lastTravelParkingModel,outDom:t.dom}),t.lastTravelBuildModel&&t.refreshTravelBuildPosition({camera:r,model:t.lastTravelBuildModel,outDom:t.dom}),t.lastSafeOtherModel&&t.refreshSafeOtherPosition({camera:r,model:t.lastSafeOtherModel,outDom:t.dom}),t.lastTravelDoorModel&&t.refreshTravelDoorPosition({camera:r,model:t.lastTravelDoorModel,outDom:t.dom}),t.lastEnergyModel&&t.refreshEnergyPosition({camera:r,model:t.lastEnergyModel,outDom:t.dom})}))}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{px:0,py:0};if(t){var i=a.px,o=a.py,s=0,r=0,c=0;e?(s=e.x,r=e.y):(s=t.getBoundingClientRect().x,r=t.getBoundingClientRect().y,c=t.getBoundingClientRect().width,t.getBoundingClientRect().height),n?(t.style.left=s+i+"px",t.style.top=r+o+"px"):(t.style.left=2*c+s+i+"px",t.style.top=r+o+"px")}}}]),t}(),d=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","areaPointModel"),Object(p["a"])(this,"areaPointModel",{}),Object(p["a"])(this,"door",["东门","北门","西南门","东南门"]),Object(p["a"])(this,"parkModel",{})}return Object(h["a"])(t,[{key:"mounted",value:function(){var t=this,e=window.location.hash.replace("#","").replace("/","").trim();this.getModel(),Object(v["b"])("area-sprite-door",this.isShowDoor.bind(this)),Object(v["b"])("showParking",this.showParking.bind(this)),n.getMacro((function(){"energy"===e&&t.isShowDoor(!1)}),100)}},{key:"getModel",value:function(){var t=this;i("新加点位").children.map((function(e){var n=e.name;t.areaPointModel[n]={},e.children.map((function(e){t.areaPointModel[n][e.name]=e}))})),this.parkModel={"2号停车场":i("2号停车场面板")}}},{key:"showParking",value:function(t){a.addSprite.pointModel["doorName"]["2号停车场"].sprite.visible=t}},{key:"isShowDoor",value:function(t){Object.keys(a.addSprite.pointModel["doorName"]).map((function(e){if("2号停车场"!=e){var n=a.addSprite.pointModel["doorName"][e].sprite;n.visible=t}}))}}]),t}(),b=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","areaLight"),Object(p["a"])(this,"lightGroup",{})}return Object(h["a"])(t,[{key:"mounted",value:function(){this.getModel(),Object(v["b"])("set-selected-lightArea",this.showLight.bind(this)),this.showLight("",!0)}},{key:"getModel",value:function(){var t=this;i("光框").children.map((function(e){t.lightGroup[e.name]=e}))}},{key:"showLight",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(this.lightGroup).map((function(a){var i=e.lightGroup[a];n?i.visible=!1:"Light_".concat(t)===a?i.visible=!0:i.visible=!1}))}}]),t}(),g=function(){function t(){var e;Object(f["a"])(this,t),Object(p["a"])(this,"name","snapShotFn"),Object(p["a"])(this,"snapShotMap",(e={"8#仓库":"8cangku","6#仓库":"6cangku","7#仓库":"7cangku","污水站":"污水站","12寸工厂":"12cun",CUB:"cub","8寸工厂":"8cun","综合楼":"综合楼"},Object(p["a"])(e,"污水站","污水站"),Object(p["a"])(e,"柴发站","chaifazhan"),e)),Object(p["a"])(this,"lastSnapShot","")}return Object(h["a"])(t,[{key:"mounted",value:function(){Object(v["b"])("set-selected-snapshot",this.snapShot.bind(this)),Object(v["b"])("clear-last-snapShot",this.clearLastSnapShot.bind(this))}},{key:"clearLastSnapShot",value:function(){this.lastSnapShot&&e.snapshot.set("".concat(this.lastSnapShot,"默认")),a.blueprintFn.doBlueprintFn("白天")}},{key:"snapShot",value:function(t){var n=this.snapShotMap[t];this.lastSnapShot&&(e.snapshot.set("".concat(this.lastSnapShot,"默认")),a.blueprintFn.doBlueprintFn("白天"),this.lastSnapShot=""),e.snapshot.set("".concat(n,"展开")),a.blueprintFn.doBlueprintFn("夜晚"),console.log("".concat(n,"展开"),"执行---"),this.lastSnapShot=n}}]),t}(),y=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","addSprite"),Object(p["a"])(this,"pointModel",{}),Object(p["a"])(this,"workshopPoint",["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","柴发站","大宗气站","制氮站","制氢站","氢气站","新8寸"]),Object(p["a"])(this,"currentWorkShop",{overview:["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","污水站","柴发站"],safe:["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","污水站","柴发站"],travel:["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","污水站","柴发站"],energy:["新8寸","8寸工厂","污水站","12寸工厂","CUB","综合楼","制氮站","制氢站","氢气站","大宗气站"],device:[]}),Object(p["a"])(this,"aiCameraName",["024","038","052","057","167"]),Object(p["a"])(this,"allDoor",["东门","北门","西南门","东南门","2号停车场"])}return Object(h["a"])(t,[{key:"mounted",value:function(){var t=window.location.hash.replace("#","").replace("/","").trim();this.add(),this.showCurrentSprite(t),this.initPark(t),Object(v["b"])("showCurrentSprite",this.showCurrentSprite.bind(this))}},{key:"initPark",value:function(t){"travel"===t||"energy"===t?a.areaPointModel.showParking(!0):a.areaPointModel.showParking(!1)}},{key:"add",value:function(){var t=window.location.hash.replace("#","").replace("/","").trim();this.addDoorSprite(),this.addCameraSprite(),this.addDoorControl(),this.addWorkShop(),Object(v["b"])("show-camera-sprite-three",this.showCameraSprite.bind(this)),Object(v["b"])("show-camera-ai-sprite-three",this.showAiSprite.bind(this)),Object(v["b"])("show-travel-doorControl-sprite-three",this.isShowDoorControl.bind(this)),this.isShowDoorControl("travel"===t)}},{key:"addDoorControl",value:function(){var t=this;this.pointModel["door-control"]={},["门禁1","门禁2","门禁3","门禁4","门禁5","门禁6","门禁7","门禁8","门禁9"].map((function(e){var a=document.querySelector(".door-control-".concat(e)),o=i(e);if(a&&o){var s=n.domTo2Dui(a);s.scale.set(.03,.03,.03),s.name="".concat(e,"_sprite"),t.pointModel["door-control"][e]={sprite:s,dom:a},o.add(s)}}))}},{key:"isShowDoorControl",value:function(t){Object.values(this.pointModel["door-control"]).map((function(e){e.dom;var n=e.sprite;n.visible=t}))}},{key:"addCameraSprite",value:function(){var t=this,e=window.location.hash.replace("#","").replace("/","").trim();this.pointModel["camera_ai"]={},this.pointModel["camera_normal"]={},new Array(171).fill("").map((function(a,o){var s=null,r=null;o+1<=9?(s=i("外围点位-"+"00".concat(o+1)),r="00".concat(o+1)):o+1<100?(s=i("外围点位-"+"0".concat(o+1)),r="0".concat(o+1)):(s=i("外围点位-"+"".concat(o+1)),r="".concat(o+1));var c=document.querySelector(".camera_".concat(r));if(c&&s){var l=n.domTo2Dui(c);l.name="".concat(s.name,"_camera"),t.aiCameraName.includes(r)?(t.pointModel["camera_ai"][s.name]={sprite:l,dom:c},l.visible="travel"===e):(t.pointModel["camera_normal"][s.name]={sprite:l,dom:c},l.visible="safe"===e),s.add(l)}}))}},{key:"addWorkShop",value:function(){var t=this;this.pointModel["workshop"]={},this.workshopPoint.map((function(e){var a=i(e),o=document.querySelector(".workshop_".concat(a.name.replace("#","")));if(o&&a){var s=n.domTo2Dui(o);s.name="".concat(a.name,"_sprite"),t.pointModel["workshop"][a.name]={sprite:s,dom:o},a.add(s)}}))}},{key:"showCameraSprite",value:function(t){Object.values(this.pointModel["camera_normal"]).map((function(e){e.dom;var n=e.sprite;n.visible=t}))}},{key:"showAiSprite",value:function(t){Object.values(this.pointModel["camera_ai"]).map((function(e){e.dom;var n=e.sprite;n.visible=t}))}},{key:"showCurrentSprite",value:function(t){var e=this;Object.values(this.pointModel["workshop"]).map((function(n){n.dom;var a=n.sprite,i=a.name.replace("_sprite","");e.currentWorkShop[t].includes(i)?a.visible=!0:a.visible=!1}))}},{key:"addDoorSprite",value:function(){var t=this;this.pointModel["doorName"]={},this.allDoor.map((function(e){var a=document.querySelector(".door_".concat(e)),o=i("".concat(e,"面板"));if(a&&o){var s=n.domTo2Dui(a);s.name="".concat(e,"_sprite"),t.pointModel["doorName"][e]={sprite:s,dom:a},o.add(s)}}))}}]),t}(),j=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","closeFn"),Object(p["a"])(this,"modelDoor",["东门","北门","西南门","东南门","2号停车场"]),Object(p["a"])(this,"doorModel",{})}return Object(h["a"])(t,[{key:"mounted",value:function(){Object(v["b"])("closeEnergySprite",this.closeEnergySprite.bind(this))}},{key:"closeEnergySprite",value:function(t){var e=t.name;"2号停车场"===e&&(Object(v["c"])("close-topCard"),a.areaLight.showLight("",!0))}},{key:"setLock",value:function(t,e){var n=e.name;this.modelDoor.includes(n)&&a.camera.isLock(!1)}}]),t}(),C=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","blueprintFn")}return Object(h["a"])(t,[{key:"mounted",value:function(){}},{key:"doBlueprintFn",value:function(t){e.graph.runCustom(t)}}]),t}(),w=function(){function t(){Object(f["a"])(this,t),Object(p["a"])(this,"name","camera")}return Object(h["a"])(t,[{key:"mounted",value:function(){Object(v["b"])("back",this.back.bind(this)),Object(v["b"])("camera-anima-zhonghuan",this.cameraAnima.bind(this)),Object(v["b"])("reset-camera",this.resetCamera.bind(this)),Object(v["b"])("set-controls",this.isLock.bind(this))}},{key:"back",value:function(){a.camera.isLock(!0),e.cameraEx.setTemp("鸟瞰视角",{time:1}),this.closeSprite(),this.closeSelectedIndex(),a.areaLight.showLight("",!0),a.snapShotFn.clearLastSnapShot(),Object(v["c"])("clear-lastClickWorkShopName","")}},{key:"closeSelectedIndex",value:function(){Object(v["c"])("close-topCard"),Object(v["c"])("set-selected-camera-index",-1),Object(v["c"])("close-selected-doorControl",-1)}},{key:"closeSprite",value:function(){Object(v["c"])("show-comprehensive-info",!1),Object(v["c"])("show-camera-info",!1),Object(v["c"])("show-safe-info",!1),Object(v["c"])("show-safe-other-info",!1),Object(v["c"])("show-ai-info",!1),Object(v["c"])("show-travel-doorControl-info",!1),Object(v["c"])("show-travel-parking-info",!1),Object(v["c"])("show-travel-build-info",!1),Object(v["c"])("show-energy-info",!1),this.closeSpriteId()}},{key:"closeSpriteId",value:function(){Object(v["c"])("updateNormalCameraId",""),Object(v["c"])("updateAiId",""),Object(v["c"])("updateComprehensiveDoorId",""),Object(v["c"])("updatesSafeDoorId",""),Object(v["c"])("updatesSafeOtherId",""),Object(v["c"])("updatesTravelBuildId",""),Object(v["c"])("updatesTravelParkingId",""),Object(v["c"])("updatesTravelDoorId","")}},{key:"resetCamera",value:function(){n.getMacro((function(){return e.cameraEx.setTemp("复原",{time:1})}),80)}},{key:"cameraAnima",value:function(t){var a=this;new Promise((function(a){n.getMacro((function(){return e.cameraEx.setTemp(t,{time:1})&&a()}),80)})).then((function(){a.isLock(!1)}))}},{key:"isLock",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c.enablePan=t,c.enableZoom=t,c.maxPolarAngle=Math.PI/2-.4}}]),t}(),O=function(){function t(){var n=this;Object(f["a"])(this,t),Object(p["a"])(this,"name","events"),Object(p["a"])(this,"clickModel",null),Object(p["a"])(this,"isRunning",!0),Object(p["a"])(this,"lastClickModel",null),Object(p["a"])(this,"triggerClick",(function(t){t&&(Object(v["c"])("logClickModel-zhonghuan",t),n.clickSprite(t),n.lastClickModel=t,console.log("点击的模型",t,"-----"))})),e.cb.model.click.add("trigger-click",this.triggerClick.bind(this)),Object(v["b"])("sceneRunning2",(function(t){n.isRunning=t}))}return Object(h["a"])(t,[{key:"clickSprite",value:function(t){var e=window.location.hash.replace("#","").replace("/","").trim();a.closeFn.setLock(e,t)}},{key:"get2DVec",value:function(t){var e=t.camera,n=t.model,a=t.outDom,i=a.clientWidth,o=a.clientHeight,r=i/2,c=o/2,l=new s.Vector3,u=new s.Vector3;e.getWorldPosition(l),e.getWorldDirection(u);var d=new s.Vector3;n.updateMatrixWorld(),d.setFromMatrixPosition(n.matrixWorld);var f=d.clone();f.project(e);var h=new s.Vector3;h.subVectors(d,l),h.normalize();var p=u.dot(h),m=p>0?1:-1,v=(1+m*f.x)*r,b=(1-m*f.y)*c;return{left:v,top:b}}},{key:"getXy",value:function(t){var e={outDom:document.querySelector("#app"),model:t,camera:r},n=this.get2DVec(e),a=n.left,i=n.top,o={x:a,y:i};return o}},{key:"dispose",value:function(){c.removeEventListener("start",this.controlStart)}}]),t}();return[O,l,d,y,C,w,u,b,g,j]},i=a(Object(d["a"])(Object(d["a"])(Object(d["a"])({runScene:t,getModel:t.modelEx.getModel.bind(t.modelEx),core:t.custom},t.assetsEx.get()),e),{},{constant:n,window:null}));i&&i.map((function(e){var n=new e;if(!n.name)throw TypeError("代码出错");return t.custom[n.name]=n,n})).map((function(t){var e;return null===t||void 0===t||null===(e=t.mounted)||void 0===e?void 0:e.call(t)}))},g=n("fb8c"),y=n("0d08"),j=n("b3fa"),C=n("307c"),w=n("1c3c"),O=n("2af1"),k=n("8b59"),_=n("bd0c"),S=n("fdb8"),x=n("3d82"),I=null,P=c.a.RunScene,D=c.a.Utils,T={name:"zhongHuan",components:{pointPopupEnergy:S["default"],pointPopupDoor:_["default"],pointPopupComprehensive:g["default"],pointPopupSafe:y["default"],pointPopupCamera:j["default"],pointPopupAl:C["default"],pointPopupSafeOther:w["default"],pointPopupFactory:O["default"],pointPopupParking:k["default"],Load:x["default"]},data:function(){return{lastClickWorkShopName:!1,loadingEnd:!1,energyId:"",travelDoorControlId:"",travelBuildId:"",travelParkingId:"",selectedId:"",normalCameraId:"",aiId:"",comprehensiveDoorId:"",safeDoorId:"",safeOtherId:"",safeOtherInfo:{normal:998,err:333,important:132},currentState:"overview",selectedCameraIndex:-1,cameraPoint:[],cameraInfo:{},doorControl:["门禁1","门禁2","门禁3","门禁4","门禁5","门禁6","门禁7","门禁8","门禁9"],selectedDoorControlIndex:-1,aiCameraPoint:[24,38,52,57,167],topCard:-1,door:["东门","北门","西南门","东南门"],allDoor:["东门","北门","西南门","东南门","2号停车场"],workshopSprite:["8#仓库","6#仓库","7#仓库","污水站","12寸工厂","CUB","8寸工厂","综合楼","柴发站","大宗气站","制氮站","制氢站","氢气站","新8寸"],comprehensiveDoorInfo:[],comprehensiveOtherBuildInfo:[],lastWorkShopDom:null,path:"http://192.168.3.8:8080/file?path=project/linkpoint/&key=202308041558142138221001202388"}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getCameraInfo(),t.load(),t.bus(),t.setBgc(I);case 4:case"end":return e.stop()}}),e)})))()},methods:{doorEvents:function(t){Object(v["c"])("camera-anima-zhonghuan",t),this.lastClickWorkShopName!==t&&("overview"===this.currentState?Object(v["c"])("web-click-comprehensive",t):"safe"===this.currentState?Object(v["c"])("clickSafeModel",t):"energy"===this.currentState?"2号停车场"===t&&(Object(v["c"])("closeEnergySprite",t),Object(v["c"])("web-click-energy",t)):"travel"===this.currentState?(Object(v["c"])("clickSafeModel",t),"2号停车场"===t&&Object(v["c"])("clickParking",t)):this.currentState,this.lastClickWorkShopName=t)},bus:function(){var t=this;Object(v["b"])("clear-lastClickWorkShopName",(function(e){t.lastClickWorkShopName=e})),Object(v["b"])("logClickModel-zhonghuan",this.logClickModel),Object(v["b"])("freeze-zhonghuan",this.freezeScene),Object(v["b"])("overview",(function(){t.currentState="overview",t.changeRouterCloseFn(),Object(v["c"])("show-camera-sprite-three",!1),Object(v["c"])("show-camera-ai-sprite-three",!1),Object(v["c"])("show-travel-doorControl-sprite-three",!1),Object(v["c"])("area-sprite-door",!0),Object(v["c"])("showParking",!1),Object(v["c"])("showCurrentSprite","overview"),Object(v["c"])("area-sprite-door",!0),console.log("3d-综合态势"),t.changeRouterFn()})),Object(v["b"])("safe",(function(){t.currentState="safe",t.changeRouterCloseFn(),Object(v["c"])("show-camera-sprite-three",!0),Object(v["c"])("show-camera-ai-sprite-three",!1),Object(v["c"])("show-travel-doorControl-sprite-three",!1),Object(v["c"])("showParking",!1),Object(v["c"])("area-sprite-door",!0),Object(v["c"])("area-sprite-door",!0),Object(v["c"])("showCurrentSprite","safe"),t.changeRouterFn(),console.log("3d-园区安防")})),Object(v["b"])("travel",(function(){t.currentState="travel",t.changeRouterCloseFn(),Object(v["c"])("show-camera-sprite-three",!1),Object(v["c"])("show-camera-ai-sprite-three",!0),Object(v["c"])("show-travel-doorControl-sprite-three",!0),console.log("3d-便携通行"),Object(v["c"])("showParking",!0),Object(v["c"])("showCurrentSprite","travel"),Object(v["c"])("area-sprite-door",!0),Object(v["c"])("area-sprite-door",!0),t.changeRouterFn()})),Object(v["b"])("energy",(function(){t.currentState="energy",t.changeRouterCloseFn(),Object(v["c"])("show-travel-doorControl-sprite-three",!1),Object(v["c"])("show-camera-ai-sprite-three",!1),Object(v["c"])("show-camera-sprite-three",!1),Object(v["c"])("showParking",!0),Object(v["c"])("area-sprite-door",!1),Object(v["c"])("area-sprite-door",!1),Object(v["c"])("showCurrentSprite","energy"),t.changeRouterFn(),console.log("3d-能源管理")})),Object(v["b"])("device",(function(){t.currentState="device",console.log("3d-设备管理"),Object(v["c"])("showCurrentSprite","device")})),Object(v["b"])("updateNormalCameraId",(function(e){return t.normalCameraId=e})),Object(v["b"])("updateAiId",(function(e){return t.aiId=e})),Object(v["b"])("updateComprehensiveDoorId",(function(e){return t.comprehensiveDoorId=e})),Object(v["b"])("updatesSafeDoorId",(function(e){return t.safeDoorId=e})),Object(v["b"])("updatesSafeOtherId",(function(e){return t.safeOtherId=e})),Object(v["b"])("updatesTravelBuildId",(function(e){return t.travelBuildId=e})),Object(v["b"])("updatesTravelParkingId",(function(e){return t.travelParkingId=e})),Object(v["b"])("updatesTravelDoorId",(function(e){return t.travelDoorControlId=e})),Object(v["b"])("updatesEnergyId",(function(e){return t.energyId=e})),Object(v["b"])("close-topCard",(function(){return t.topCard=-1})),Object(v["b"])("close-selected-doorControl",(function(e){return t.selectedDoorControlIndex=e})),Object(v["b"])("set-selected-camera-index",(function(e){return t.selectedCameraIndex=e})),Object(v["b"])("show-safe-door",(function(e){t.showSafe=e})),Object(v["b"])("show-safe-other",(function(e){t.showSafeOther=e})),Object(v["b"])("refresh-camera-info",(function(e){t.defaultMonitorInfo=e})),Object(v["b"])("refresh-defaultAIInfo-info",(function(e){t.defaultAIInfo=e})),Object(v["b"])("refresh-comprehensive-info",(function(e){t.defaultComprehensive=e})),Object(v["b"])("set-selected-safe-door-info",(function(e){t.safeDoorInfo=e})),Object(v["b"])("set-selected-safe-other-info",(function(e){t.safeOtherInfo=e}))},changeRouterFn:function(){Object(v["c"])("set-selected-lightArea","",!0),Object(v["c"])("reset-camera"),Object(v["c"])("set-controls",!0),this.lastClickWorkShopName=""},changeRouterCloseFn:function(){Object(v["c"])("show-camera-info",!1),Object(v["c"])("show-ai-info",!1),Object(v["c"])("show-comprehensive-info",!1),Object(v["c"])("show-energy-info",!1),Object(v["c"])("set-selected-camera-index",-1),Object(v["c"])("show-safe-info",!1),Object(v["c"])("show-safe-other-info",!1),Object(v["c"])("close-topCard"),Object(v["c"])("show-travel-doorControl-info",!1),Object(v["c"])("show-travel-parking-info",!1),Object(v["c"])("show-travel-build-info",!1),Object(v["c"])("updateNormalCameraId",""),Object(v["c"])("updateAiId",""),Object(v["c"])("updateComprehensiveDoorId",""),Object(v["c"])("updatesSafeDoorId",""),Object(v["c"])("updatesSafeOtherId",""),Object(v["c"])("updatesTravelBuildId",""),Object(v["c"])("updatesTravelParkingId",""),Object(v["c"])("updatesTravelDoorId",""),Object(v["c"])("close-selected-doorControl")},selectedCameraFn:function(t,e,n){var a=t.id,i=t.state;Object(v["c"])("web-click-camera",a),Object(v["c"])("web-click-camera-ai",a),"error"!==i&&(this.selectedCameraIndex=e)},selectedDoorControl:function(t,e){this.selectedDoorControlIndex=e,Object(v["c"])("web-click-door-control",t)},buildDetails:function(t){Object(v["c"])("set-selected-snapshot",t)},getCameraInfo:function(){var t=this;new Array(171).fill("").map((function(e,n){n+1<=9?t.cameraPoint.push("00".concat(n+1)):n+1<100?t.cameraPoint.push("0".concat(n+1)):t.cameraPoint.push("".concat(n+1))})),this.cameraPoint.map((function(e){t.$set(t.cameraInfo,"camera".concat(e),{class:"camera_".concat(e),id:"".concat(e),state:Math.random()>=.5?"normal":"error",type:["024","038","052","057","167"].includes(e)?"ai":"normal"})}))},load:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadScene(t.path);case 2:n=e.sent,n.on("loaded",(function(){t.resize(l["a"].state.fitLayoutRatio,I),b(I,{Utils:D,Three:u},{}),t.onDone(),console.log("中环初始化-----zhonghuan.vue---570")}));case 4:case"end":return e.stop()}}),e)})))()},loadScene:function(t){return I=new P({render2:!0,material:{},instance:{enable:!0,ignoreNames:["外围-056","外围-156","外围-008"]},texture:{},renderConfig:{matrixAutoUpdate:!0,scriptFrame:60,event:{ignores:["resize"]}}}).load({path:t,dom:this.$refs["three-scene-zhonghuan"]}),I},getPath:function(){this.currentState=this.$route.name.trim()},selectWorkShop:function(t,e,n){var a=t.replace("点","");Object(v["c"])("camera-anima-zhonghuan",a),Object(v["c"])("set-selected-lightArea",a),this.topCard=n,Object(v["c"])("clear-last-snapShot"),this.lastClickWorkShopName!==t&&("overview"===this.currentState?(Object(v["c"])("web-click-comprehensive",t),Object(v["c"])("updateComprehensiveDoorId",t),console.log("综合态势")):"safe"===this.currentState?(console.log("安防"),Object(v["c"])("web-click-safe",t)):"energy"===this.currentState?Object(v["c"])("web-click-energy",t):"travel"===this.currentState?Object(v["c"])("web-click-travel",t):this.currentState,this.lastClickWorkShopName=t)},freezeScene:function(t){I.globalConfig.setState(t)},logClickModel:function(t){console.log("第二场景点击的模型为:",t.name)},resize:function(t,e){var n=e.assetsEx.engineDom.getBoundingClientRect();e.setSize(n.width/t,n.height/t)},setBgc:function(t){return Object(s["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.assetsEx.engineDom,a=document.createElement("div"),a.style.position="absolute",a.style.left="50%",a.style.top="50%",a.style.transform="translate(-50%,-50%)",a.style.width="100%",a.style.height="100%",n.appendChild(a),a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="100% 100%",a.classList.add("bgc");case 12:case"end":return e.stop()}}),e)})))()},onDone:function(){this.logClickModel=!0,this.loadingEnd=!0,this.getPath(),console.log("场景加载完毕~")},openDialog:function(t,e,n){var a,i=this;this.$store.state.innerType1=n.split("_")[0],null===(a=I)||void 0===a||a.cb.controls.change.add("setDialogPosition",(function(){i.isRuning&&Object(v["c"])("set-position-dialogThree",t,e)}))}},destroyed:function(){I&&I.dispose()}},M=T,E=(n("2b172"),n("2877")),A=Object(E["a"])(M,a,i,!1,null,"15a252a2",null);e["default"]=A.exports},f3a6:function(t,e,n){},f429:function(t,e,n){"use strict";n("cf75b")},f5ba:function(t,e,n){"use strict";n("4edb")},fa47:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty"})},i=[],o={data:"empty"},s=o,r=n("2877"),c=Object(r["a"])(s,a,i,!1,null,null,null);e["default"]=c.exports},fb8c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.comprehensiveInfo?e("div",{staticClass:"point-popup-comprehensive"},[e("div",{staticClass:"title"},[e("pointPopupTrafficTitle",{attrs:{areaInfo:t.comprehensiveInfo}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("pointPopupComprehensiveContent",{attrs:{info:t.comprehensiveInfo.data}})],1)])]):t._e()},i=[],o=n("491d"),s=n("c76e"),r=n("447e"),c={watch:{id:function(){this.loadData()}},props:{id:{type:String,require:!1}},components:{pointPopupTrafficTitle:s["a"],pointPopupComprehensiveContent:r["a"]},name:"pointPopupComprehensive",data:function(){return{comprehensiveInfo:null,isShow:!1,arr:{"东门":{areaName:this.id,data:[{name:"入园人数",num:1920,unit:"人",icon:n("bd8c")},{name:"入园车辆",num:525,unit:"辆",icon:n("5ef2")}]},"北门":{areaName:this.id,data:[{name:"入园人数",num:1920,unit:"人",icon:n("bd8c")},{name:"入园车辆",num:525,unit:"辆",icon:n("5ef2")}]},"西南门":{areaName:this.id,data:[{name:"入园人数",num:920,unit:"人",icon:n("bd8c")},{name:"入园车辆",num:525,unit:"辆",icon:n("5ef2")}]},"东南门":{areaName:this.id,data:[{name:"入园人数",num:1920,unit:"人",icon:n("bd8c")},{name:"入园车辆",num:525,unit:"辆",icon:n("5ef2")}]}}}},mounted:function(){var t=this;"point-popup-comprehensive"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-comprehensive-info",(function(e){t.isShow=e}))},methods:{loadData:function(){console.log(this.id,"this.id-----"),this.arr[this.id]?(this.comprehensiveInfo=this.arr[this.id],this.$set(this.arr[this.id],"areaName",this.id)):this.comprehensiveInfo={areaName:this.id,data:[{name:"通行人数",num:1920,unit:"人",icon:n("bd8c")}]}}}},l=c,u=(n("2418"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"9d8ff358",null);e["default"]=d.exports},fc44:function(t,e,n){},fdb8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return t.isShow&&t.eneryInfo?e("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],staticClass:"point-popup-energy"},[e("div",{staticClass:"title"},[e("pointPopupTrafficTitle",{attrs:{areaInfo:t.eneryInfo}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("pointPopupComprehensiveContent",{attrs:{info:t.eneryInfo.data}})],1),e("div",{staticClass:"consume"},t._l(t.eneryInfo.info,(function(t,n){return e("pointPopupEnergyConsume",{key:n,class:"consume_"+n,attrs:{info:t}})})),1)])]):t._e()},i=[],o=n("491d"),s=n("c76e"),r=n("447e"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"point-popup-energy-consume"},[e("div",{staticClass:"title"},[t._v(t._s(t.info.title))]),e("div",{staticClass:"list"},t._l(t.info.arr,(function(n,a){return e("div",[e("div",{staticClass:"left"},[t._v(t._s(n.name))]),e("div",{staticClass:"right"},[e("div",{staticClass:"num"},[t._v(t._s(n.num))]),e("div",{staticClass:"unit"},[t._v(t._s(n.unit))])])])})),0)])},l=[],u={components:{},name:"pointPopupEnergyConsume",props:["info"],data:function(){return{}},mounted:function(){},methods:{}},d=u,f=(n("991c"),n("2877")),h=Object(f["a"])(d,c,l,!1,null,"425e56ac",null),p=h.exports,m={components:{pointPopupTrafficTitle:s["a"],pointPopupComprehensiveContent:r["a"],pointPopupEnergyConsume:p},name:"pointPopupEnergy",props:{id:{type:String,require:!1}},watch:{id:function(){this.loadData()}},data:function(){return{eneryInfo:{},isShow:!1}},mounted:function(){var t=this;"point-popup-energy"==this.$route.name?(this.isShow=!0,this.id=this.$route.query.id):this.id&&this.loadData(),Object(o["b"])("show-energy-info",(function(e){t.isShow=e}))},methods:{loadData:function(){this.eneryInfo={areaName:this.id,hasLine:!0,data:[{name:"电能耗",num:9999.99,unit:"kWh",icon:n("51ef")},{name:"水能耗 (超纯水)",num:999.99,unit:"吨",icon:n("51ef")},{name:"能耗 (超纯水)",num:999.99,unit:"吨",icon:n("51ef")},{name:"能耗 (超纯水)",num:999.99,unit:"吨",icon:n("51ef")}]};n("bd8c"),n("5ef2"),n("5ef2"),n("5ef2")}}},v=m,b=(n("50cc"),Object(f["a"])(v,a,i,!1,null,"7cae0337",null));e["default"]=b.exports}});
//# sourceMappingURL=app.ade00dbb.js.map